# å¤§æ’ç›¸æœº

## 1.æ¥å£

### 1.1 API

ä¸ºç”¨æˆ·æä¾›äº†ç”¨æˆ·æ§åˆ¶ç›¸æœºçš„é€šç”¨ç¼–ç¨‹æ¥å£ ==GxIAPI== å’Œå›¾åƒå¤„ç†ç®—æ³•æ¥å£==DxImageProc==ã€‚

### 1.2 GenTL

åŸºäº Gen\<i>Cam ï¼ˆæ ‡å‡†ä¸­é€šç”¨ä¼ è¾“å±‚çš„æ ‡å‡†è¾“å‡ºæ¥å£ï¼‰æä¾›çš„GenTLã€‚

### 1.3 GigE Vision

éµå¾ª GigE Vision.



## 2.LEDç¯çŠ¶æ€

![LED](/home/peter/å›¾ç‰‡/LEDç¯çŠ¶æ€.png)

## 3. IO æ¥å£

![IOæ¥å£](/home/peter/å›¾ç‰‡/IOå£.png)

###3.1 è¾“å…¥å¼•è„š

è¾“å…¥ä¿¡å·ï¼Œåˆ†åˆ«æ˜¯ Line0ã€Line2ã€Line3ã€‚å…¶ä¸­ Line0 ä¸ºå•å‘å…‰è€¦è¾“å…¥ IOï¼ŒLine2ã€Line3 ä¸ºå¯é…ç½®æ–¹å‘çš„ IOã€‚

æ³¨æ„ï¼šè§¦å‘æ»¤æ³¢ï¼Œè§¦å‘å»¶è¿Ÿï¼Œè®¾ç½®è¾“å…¥åå¼•è„šã€‚

### 3.2 è¾“å‡ºå¼•è„š

è¾“å‡ºä¿¡å·ï¼Œåˆ†åˆ«æ˜¯ Line1ã€Line2ã€Line3ã€‚ã€‚å…¶ä¸­ Line1 ä¸ºå•å‘å…‰è€¦è¾“å‡º IOï¼ŒLine2ã€Line3 ä¸ºå¯é…ç½®æ–¹å‘çš„ IOã€‚

æ³¨æ„ï¼šç”¨æˆ·çŠ¶æ€ï¼Œè¿™æ”¯è¾“å‡ºå¼•è„šåå‘ã€‚

 

## 4.å›¾åƒé‡‡é›†æ§åˆ¶

###4.1 å¼€å§‹é‡‡é›†

#### 4.1.1 è¿ç»­é‡‡é›†

è¿ç»­æ¨¡å¼ä¸‹ï¼Œç›¸æœºæ¥æ”¶åˆ°å¼€é‡‡å‘½ä»¤åï¼Œæ ¹æ®æ›å…‰æ—¶é—´å’Œç›¸å…³å‚æ•°çš„è®¾ç½®ï¼Œä»¥ä¸€å®šå¸§ç‡è¿›è¡Œé‡‡é›†å’Œä¼ è¾“ã€‚

è¿ç»­é‡‡é›†é…ç½®ï¼šMER-G-P/MER-G ç›¸æœºæ”¯æŒè¿ç»­é‡‡é›†åŠŸèƒ½ã€‚åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨è¿ç»­é‡‡é›†åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨â€œé‡‡é›†æ§åˆ¶â€é€‰é¡¹ä¸­ï¼Œ==â€œè§¦å‘æ¨¡å¼â€é€‰æ‹©â€œoffâ€==å³å¯ã€‚MER-G-P/MER-G ç›¸æœºçš„==é»˜è®¤å·¥ä½œæ–¹å¼ä¸ºè¿ç»­é‡‡é›†==ã€‚

è¿ç»­æ¨¡å¼ä¸‹é‡‡é›†å›¾åƒæ—¶ï¼Œæ ¹æ®å‚æ•°è®¾ç½®é»˜è®¤å€¼è¾“å‡ºå›¾åƒã€‚

è®¾ç½® ROI å°ºå¯¸ï¼ŒåŒ…é—´éš”ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå½±å“è¿ç»­é‡‡é›†çš„çš„å¸§ç‡ã€‚

####4.1.2 è§¦å‘é‡‡é›†

è§¦å‘æ¨¡å¼ä¸‹ï¼Œç›¸æœºæ¥æ”¶åˆ°å¼€é‡‡å‘½ä»¤åï¼Œæ¯æ¥æ”¶åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„è§¦å‘ä¿¡å·ï¼ˆåŒ…æ‹¬è½¯è§¦å‘æˆ–è€…å¤–è§¦å‘ï¼‰
ï¼Œæ ¹æ®æ›å…‰æ—¶é—´å’Œç›¸å…³å‚æ•°çš„è®¾ç½®ï¼Œäº§ç”Ÿä¸€è§¦å‘å¸§ã€‚

### 4.2 åœæ­¢é‡‡é›†

#### 4.2.1 ä¼ è¾“è¿‡ç¨‹ä¸­åœé‡‡

ä¼ è¾“å®Œå½“å‰åŒ…åç«‹åˆ»ç»ˆæ­¢é‡‡é›†ï¼Œå½“å‰ä¼ è¾“å¸§ä¸ºéå®Œæ•´å¸§ï¼Œä¸ä¼šç»™ç”¨æˆ·ã€‚

#### 4.2.2 ä¼ è¾“ç­‰å¾…æ—¶åœé‡‡

ç«‹å³åœæ­¢

æ³¨ï¼šç”±äºè®¾å¤‡é™åˆ¶ï¼Œåœ¨è®¾ç½®å®Œå¼€é‡‡æˆ–è€…åœé‡‡åï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¯¥æ—¶é—´è‡³å°‘è¦å¤§äºå½“å‰æ›å…‰æ—¶é—´å’Œå¸§å‘¨æœŸä¹‹å’Œã€‚

###4.3 é‡‡é›†æ¨¡å¼åˆ‡æ¢
ä¸éœ€è¦åœé‡‡æ“ä½œå¯ç›´æ¥åˆ‡æ¢ã€‚ç›¸äº’åˆ‡æ¢æ—¶ï¼Œéƒ½è¦ç­‰åˆ°å½“å‰æ¨¡å¼é‡‡é›†çš„æ•°æ®ä¼ è¾“å®Œå…¨æ‰ä¼šåˆ‡æ¢ã€‚



## 5. è§¦å‘

### 5.1 è½¯è§¦å‘

åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨è½¯è§¦å‘é‡‡é›†åŠŸèƒ½ï¼Œéœ€è¦åœ¨â€œé‡‡é›†æ§åˆ¶â€é€‰é¡¹ä¸­ï¼Œ â€œè§¦å‘æ¨¡å¼â€é€‰æ‹©â€œOnâ€ï¼Œ â€œè§¦å‘æºâ€é€‰æ‹©â€œSoftwareâ€ï¼Œæ¯å¯¹â€œè½¯è§¦å‘â€æŒ‰çš„â€œTriggerSoftwareâ€ï¼Œæ¯å¯¹â€œè½¯è§¦å‘â€æŒ‰é’®çš„â€œTriggerSoftwareâ€ç‚¹å‡»ä¸€æ¬¡ï¼Œå°†äº§ç”Ÿä¸€å¸§è½¯è§¦å‘å›¾åƒã€‚æ‰€æœ‰çš„è½¯è§¦å‘å‘½ä»¤ï¼Œéƒ½æ˜¯ä¸»æœºé€šè¿‡ Gigabit Ethernet æ€»çº¿å‘é€å‘½ä»¤è§¦å‘ç›¸æœºé‡‡é›†å’Œä¼ è¾“å›¾åƒã€‚

ç›¸æœºåˆ‡æ¢åˆ°è½¯è§¦å‘æ¨¡å¼åï¼Œç›¸æœºä¼šç­‰å¾…ç”¨æˆ·å‘é€è½¯è§¦å‘å‘½ä»¤ï¼Œç„¶å==è½¯è§¦å‘å‘½ä»¤æ¥åå¼€å§‹é‡‡é›†å›¾åƒ==ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç›¸æœºè¾“å‡ºçš„å¸§ç‡ä¼šå’Œè½¯è§¦å‘==é¢‘ç‡==ã€‚ç”¨æˆ·ä½¿ç”¨è½¯è§¦å‘åŠŸèƒ½æ—¶ï¼Œç›¸å…³ç‰¹æ€§å¦‚ä¸‹ï¼š

1)è½¯è§¦å‘çš„è§¦å‘é¢‘ç‡å°äºå½“å‰é…ç½®ä¸‹çš„æœ€å¤§å¸§ç‡æ—¶ï¼Œå¸§ç‡å°†å’Œè½¯è§¦å‘å¸§ç‡ä¸€è‡´ï¼›å¦‚æœè½¯è§¦å‘çš„é¢‘ç‡å¤§äºæœ€å¤§å¸§ç‡æ—¶ï¼Œä¼šæœ‰è½¯è§¦å‘ä¿¡å·è¢«å±è”½ï¼Œå¸§ç‡å°†å°äºè½¯è§¦å‘å¸§ç‡ï¼›

2)==è§¦å‘å»¶è¿Ÿ==ï¼Œå³å¯¹æ¥æ”¶çš„è½¯è§¦å‘ä¿¡å·ï¼Œè¿›è¡Œå»¶è¿Ÿå¤„ç†åè§¦å‘äº§ç”Ÿå›¾åƒå¸§ï¼Œé»˜è®¤é…ç½®ä¸ºä¸è¿›è¡Œè§¦å‘å»¶è¿Ÿæ“ä½œã€‚

### 5.2 å¤–è§¦å‘ï¼ˆç¡¬è§¦å‘ï¼‰

åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦ä½¿ç”¨å¤–è§¦å‘é‡‡é›†åŠŸèƒ½ï¼Œéœ€è¦åœ¨â€œé‡‡é›†æ§åˆ¶â€é€‰é¡¹ä¸­ï¼Œâ€œè§¦å‘æ¨¡å¼â€é€‰æ‹©â€œOnâ€ï¼Œâ€œè§¦å‘æºâ€é€‰æ‹©-==â€œLine0â€ï¼Œâ€œLine2â€ï¼Œâ€œLine3â€ä¸­çš„ä¸€ä¸ª==ã€‚åŒæ—¶æ ¹æ®è§¦å‘æºçš„é€‰æ‹©é¡¹ï¼Œåœ¨ç›¸æœºçš„èˆªæ’æ¥å£ä¸­ï¼Œå®Œæˆå¥½å¤–è§¦å‘çš„ç‰©ç†è¿æ¥ã€‚

MER-G-P/MER-G ç›¸æœºå¯¹å¤–è§¦å‘è¾“å…¥ä¿¡å·å¤„ç†ï¼Œæ”¯æŒçš„ç‰¹æ€§åŒ…æ‹¬ï¼š

1ï¼‰==è§¦å‘ææ€§==ï¼Œæ˜¯å¦å¯¹è¾“å…¥å¤–è§¦å‘ä¿¡å·è¿›è¡Œææ€§ç¿»è½¬æ“ä½œã€‚é»˜è®¤é…ç½®ä¸ºä¸ç¿»è½¬ï¼›

2ï¼‰==è§¦å‘æ»¤æ³¢åŠŸèƒ½==ï¼Œæ˜¯å¦å¯¹è¾“å…¥å¤–è§¦å‘ä¿¡å·è¿›è¡Œæ»¤æ³¢æ“ä½œï¼ŒMER-G-P/MER-G ç›¸æœºæ”¯æŒåˆ†åˆ«å¯¹ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿è¿›è¡Œæ»¤æ³¢è®¾ç½®ã€‚é»˜è®¤é…ç½®ä¸ºä¸æ»¤æ³¢æ“ä½œã€‚==è§¦å‘æ»¤æ³¢æœ‰è§¦å‘å»¶è¿Ÿä½œç”¨==ï¼›

3ï¼‰==è§¦å‘å»¶è¿Ÿ==ï¼Œç›¸æœºå¯¹æ¥æ”¶çš„å¤–è§¦å‘ä¿¡å·ï¼Œæ˜¯å¦è¿›è¡Œå»¶è¿Ÿå¤„ç†åè§¦å‘äº§ç”Ÿå›¾åƒå¸§ï¼Œé»˜è®¤é…ç½®ä¸ºä¸è¿›è¡Œè§¦å‘å»¶è¿Ÿæ“ä½œã€‚

æ³¨æ„ï¼š**Line0 å†…éƒ¨ä½¿ç”¨å…‰è€¦éš”ç¦»ç”µè·¯ï¼Œå¯¹ä¿¡å·æœ‰ä¸€å®šçš„å»¶è¿Ÿä½œç”¨**ï¼Œä¸”ä¸Šå‡æ²¿çš„å»¶è¿Ÿè¦ç¨å°äºä¸‹é™æ²¿çš„å»¶è¿Ÿã€‚ä¸Šå‡æ²¿å»¶æ—¶çº¦å‡ ä¸ªåˆ°åå‡ ä¸ª usï¼Œä¸‹é™æ²¿å»¶æ—¶åå‡ ä¸ªåˆ°å‡ åä¸ª usï¼Œæ‰€ä»¥ä¸€ä¸ªæ­£è„‰å†²è§¦å‘ä¿¡å·ç»è¿‡Line0 åï¼Œåˆ°è¾¾ç›¸æœºå†…éƒ¨å®é™…è¢«åŠ å®½äº†ï¼ˆçº¦ 20-40usï¼‰ï¼›åä¹‹ä¸€ä¸ªè´Ÿè„‰å†²è§¦å‘ä¿¡å·ç»è¿‡ Line0 åï¼Œåˆ°è¾¾ç›¸æœºå†…éƒ¨å®é™…è¢«å˜çª„äº†ï¼ˆçº¦ 20-40usï¼‰ã€‚å¦‚æœæ­¤æ—¶ä½¿ç”¨äº†æ»¤æ³¢ï¼Œä¸”å¯¹æ»¤æ³¢ç³»æ•°è¦æ±‚ä¸¥æ ¼ï¼Œå¯ä»¥æ ¹æ®æœ‰æ•ˆè§¦å‘è„‰å†²çš„é«˜ä½é€‚å½“å¾®è°ƒæ»¤æ³¢å‚æ•°ï¼Œå¯¹æ»¤æ³¢å‚æ•°è¦æ±‚ä¸ä¸¥æ ¼çš„ç”¨æˆ·å¯ä»¥å¿½ç•¥è¿™ä¸€å·®å¼‚ã€‚



##6 æ›å…‰

### 6.1 æ›å…‰å»¶è¿Ÿ

ç”±å¤–è§¦å‘åˆ° sensor çœŸæ­£å¼€å§‹æ›å…‰ä¹‹é—´ï¼Œæœ‰ä¸€å°æ®µå»¶æ—¶ï¼Œæ€»ç§°ä¸ºæ›å…‰å»¶æ—¶ï¼Œå…±åŒ…å«å››éƒ¨åˆ†æ—¶é—´ï¼š

T1ï¼šå¤–éƒ¨ä¿¡å·ç»è¿‡å…‰è€¦æˆ– GPIO æ—¶ï¼Œ==ç¡¬ä»¶ç”µè·¯å¼•å…¥çš„å»¶æ—¶==ã€‚å€¼ä¸€èˆ¬åœ¨å‡  us åˆ°å‡ å usï¼Œå»¶æ—¶ä¸»è¦å—è¿æ¥æ–¹å¼ã€é©±åŠ¨å¼ºåº¦å’Œæ¸©åº¦å½±å“ï¼Œå¤–éƒ¨ç¯å¢ƒä¸å˜æ—¶ï¼Œè¯¥å»¶æ—¶ä¸€èˆ¬ç¨³å®šï¼›

T2ï¼š==è§¦å‘æ»¤æ³¢å¼•å…¥çš„å»¶æ—¶==ï¼Œæ¯”å¦‚è®¾ç½®è§¦å‘æ»¤æ³¢æ—¶é—´ä¸º 50usï¼Œåˆ™ T2 å¯¹åº” 50usï¼›

T3ï¼š==è§¦å‘å»¶è¿Ÿ==ï¼ˆtrigger_delayï¼‰ï¼Œç›¸æœºè¿˜æ”¯æŒè§¦å‘å»¶è¿ŸåŠŸèƒ½ï¼Œå¦‚æœè§¦å‘å»¶è¿Ÿè®¾ç½® 200usï¼Œåˆ™ T3 ä¸º 200usï¼›

T4ï¼š ==sensor æ—¶åºå»¶æ—¶==ï¼Œ sensor å†…éƒ¨çœŸæ­£å¼€å§‹æ›å…‰æ˜¯ä¸è¡Œæ—¶åºå¯¹é½ï¼Œæ‰€ä»¥ T4 æœ€å¤§æœ‰ä¸€ä¸ªè¡Œå‘¨æœŸçš„æŠ–åŠ¨ï¼Œ
æ¯æ¬¾ sensor è¯¥æ•°å€¼ä¸ä¸€æ ·ï¼ŒæŸäº›å»¶æ—¶è¾ƒå¤§çš„äº§å“ï¼ˆå‡ ç™¾ us ä»¥ä¸Šï¼‰è¿˜æœ‰é¢å¤–çš„é…ç½®æ—¶é—´ä¹Ÿè®¡å…¥ T4 ä¸­äº†ã€‚

### 6.2 è®¾ç½®æ›å…‰

####6.2.1 å…¨å±€æ›å…‰æ¨¡å¼

Sensor çš„==æ‰€æœ‰è¡ŒåŒæ—¶å¼€å§‹æ›å…‰==ï¼Œå¹¶åŒæ—¶ç»“æŸæ›å…‰ï¼Œåœ¨æ›å…‰ç»“æŸåï¼ŒSensor å°†æ‰€æœ‰ç”µå­ä»æ„Ÿå…‰åŒºè½¬åˆ°å­˜å‚¨åŒºï¼Œä¹‹åé€è¡Œçš„è¯»å‡ºåƒç´ æ•°æ®ã€‚

å¥½å¤„æ˜¯è·å¾—å›¾åƒæ¯ä¸€è¡Œçš„æ›å…‰æ—¶é—´æ¯”è¾ƒä¸€è‡´ï¼Œå¹¶ä¸”åœ¨æ‹æ‘„è¿åŠ¨ç‰©ä½“æ—¶å›¾åƒä¸ä¼šå‡ºç°åç§»å’Œæ­ªæ–œã€‚

#### 6.2.2 é€è¡Œæ›å…‰æ¨¡å¼

é€è¡Œæ›å…‰ä»ç¬¬ä¸€è¡Œå¼€å§‹æ›å…‰ï¼Œä¸€ä¸ªè¡Œå‘¨æœŸä¹‹åç¬¬äºŒè¡Œæ‰å¼€å§‹æ›å…‰ï¼Œä¾æ¬¡ç±»æ¨ã€‚

æŠ€æœ¯éš¾åº¦è¾ƒå…¨å±€æ›å…‰ sensor ä½ï¼Œä»·æ ¼ä¾¿å®œï¼Œä¸”åˆ†è¾¨ç‡è¾ƒå¤§ï¼Œå¯¹äºä¸€äº›é™æ€å›¾åƒæ‹æ‘„æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚

### æ–¹æ³•6.3 è®¾ç½®æ›å…‰æ—¶é—´

æ›å…‰æ—¶é—´å¯è®¾ï¼Œæ­¥é•¿ 1usï¼Œå„æ¬¾ç›¸æœºæ›å…‰èŒƒå›´è§ä¸‹è¡¨ã€‚

ä½¿ç”¨è¡Œæ›å…‰ sensor çš„ç›¸æœºï¼Œæ›å…‰ç²¾åº¦å— sensor é™åˆ¶ï¼Œç”¨æˆ·æ¥å£å’Œ demo æ­¥é•¿æ˜¾ç¤ºä¸º 1usï¼Œå®é™…æ˜¯ 1ä¸ªè¡Œå‘¨æœŸã€‚å½“è¾“å…¥å€¼æ›å…‰å€¼ä¸èƒ½è¢«è¡Œå‘¨æœŸæ•´é™¤æ—¶ï¼Œä¸Šå–æ•´å¤„ç†ï¼Œæ¯”å¦‚æœ€å¤§çª—å£æ—¶è¡Œå‘¨æœŸä¸º 36usï¼Œè®¾ç½® 80usæ›å…‰æ—¶é—´ï¼Œå®é™…æ›å…‰æ—¶é—´ä¸º 108usã€‚

å½“å¤–éƒ¨å…‰æºä¸ºæ—¥å…‰æˆ–ç›´æµå…‰æºæ—¶ï¼Œç›¸æœºå¯¹æ›å…‰æ— ç‰¹æ®Šè¦æ±‚ï¼›å½“ä½¿ç”¨äº¤æµå…‰æºæ—¶ï¼Œä¸ºæ»¤é™¤äº¤æµå…‰æºé—ªçƒå½±å“ï¼Œ==å»ºè®®æ›å…‰æ—¶é—´ä¸ºå…‰æºå‘¨æœŸçš„æ•´æ•°å€==ï¼Œå¦‚ 100Hz çš„å…‰æºï¼Œæ›å…‰æ—¶é—´æœ€å¥½è®¾ç½®ä¸º 10ms çš„æ•´æ•°å€ï¼ˆæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ—¥å…‰ç¯çš„é¢‘ç‡ä¸º 50Hzï¼‰ã€‚

### 6.4 ï¼ˆéï¼‰äº¤å æ›å…‰

####6.4.1 éäº¤å æ›å…‰

==å¸§å‘¨æœŸ >= æ›å…‰æ—¶é—´ + è¯»å‡ºæ—¶é—´==

åœ¨ä¸€å¸§å›¾åƒå®Œå…¨ç»“æŸæ›å…‰å’Œè¯»å–ä¹‹åæ‰å¼€å§‹è¿›è¡Œä¸‹ä¸€å¼ å›¾åƒçš„æ›å…‰ã€‚

#### 6.4.2 äº¤å æ›å…‰

==å¸§å‘¨æœŸ < æ›å…‰æ—¶é—´ + è¯»å‡ºæ—¶é—´==

åœ¨å‰ä¸€å¼ å›¾åƒæ›å…‰å®Œï¼Œè¿›è¡Œè¯»å–çš„æ—¶å€™ï¼Œå°±å¼€å§‹ä¸‹ä¸€å¼ å›¾åƒçš„æ›å…‰ã€‚

äº¤å æ›å…‰èƒ½è·å¾—æ›´é«˜å¸§ç‡ã€‚



## 7. åŸºæœ¬å±æ€§

### 7.1  å¢ç›Š

å¢å¤§å¢ç›Šèƒ½ä½¿å¾—å›¾åƒäº®åº¦æé«˜ï¼Œæ¯æé«˜6dBï¼Œå›¾åƒç°åº¦å€¼å°†å¢åŠ è¿‘ä¸€å€ã€‚å¦ä¸€ç§æé«˜å›¾åƒäº®åº¦çš„æ–¹æ³•ä¸ºé€šè¿‡ä¿®æ”¹æŸ¥æ‰¾è¡¨æ”¹å˜ç›¸æœºçš„æ•°å­—å¢ç›Šã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½å°†æ”¾å¤§å›¾åƒå™ªå£°ã€‚

###7.2 åƒç´ æ ¼å¼

é€šè¿‡è®¾ç½®åƒç´ æ ¼å¼ï¼Œå¯ä»¥==é€‰æ‹©ç›¸æœºè¾“å‡ºå›¾åƒæ•°æ®çš„æ ¼å¼==ã€‚æ— è®ºæ˜¯å½©è‰²æˆ–è€…é»‘ç™½ç›¸æœºï¼Œå¯ä¾›é€‰æ‹©çš„åƒç´ æ ¼å¼ä¸ç›¸æœºçš„å…·ä½“å‹å·ç›¸å…³ã€‚

#### 7.2.1 Mono8æ ¼å¼

åƒç´ æ ¼å¼è®¾ç½®ä¸º Mono8 çš„æ—¶å€™ï¼Œç›¸æœºè¾“å‡ºå›¾åƒä¸­æ¯ä¸ªåƒç´ çš„äº®åº¦å€¼ä¸º 8bits æ•°æ®ã€‚

#### 7.2.2 Mono12,Mono10æ ¼å¼

å½“åƒç´ æ ¼å¼è®¾ç½®ä¸º Mono12 æˆ– Mono10 çš„æ—¶å€™ï¼Œç›¸æœºè¾“å‡ºå›¾åƒä¸­æ¯ä¸ªåƒç´ çš„äº®åº¦å€¼ä¸º 16bits æ•°æ®ï¼ŒMono12 æ ¼å¼æœ‰æ•ˆæ•°æ®ä¸º 12bitsï¼Œé«˜ 4bits è¡¥ 0ï¼›Mono10 å¼æœ‰æ•ˆæ•°æ®ä¸º 10bitsï¼Œé«˜ 6bits è¡¥ 0ã€‚

#### 7.2.3 BayerRG8 æ ¼å¼

å½“åƒç´ æ ¼å¼è®¾ç½®ä¸º BayerRG8 çš„æ—¶å€™ï¼Œç›¸æœºè¾“å‡ºå›¾åƒä¸­æ¯ä¸ªåƒç´ çš„äº®åº¦å€¼ä¸º 8bits æ•°æ®ï¼Œæ ¹æ®åƒç´ ç‚¹æ‰€åœ¨ä½ç½®çš„å·®å¼‚ï¼Œåˆ†åˆ«äº®åº¦å€¼è¡¨ç¤ºçº¢ã€ç»¿ã€è“ä¸‰ä¸ªåˆ†é‡ã€‚

æ³¨ï¼šè¿˜æœ‰ BayerRG12ã€BayerRG10 ï¼ŒBayerGR8 æ ¼å¼ç­‰



## 8. è‡ªåŠ¨å¤„ç†

### 8.1 è‡ªåŠ¨æ›å…‰ï¼Œè‡ªåŠ¨å¢ç›Š ï¼Œè‡ªåŠ¨ç™½å¹³è¡¡ROI è®¾ç½®

è‡ªåŠ¨æ›å…‰è‡ªåŠ¨å¢ç›Š**é‡‡ç”¨æ„Ÿå…´è¶£åŒºåŸŸï¼ˆROIï¼‰ä¸­çš„å›¾åƒæ•°æ®è®¡ç®—ç›¸æœºå‚æ•°ï¼Œä»è€Œå¯¹ç›¸æœºçš„æ›å…‰æ—¶é—´å’Œå¢ç›Šå€¼è¿›è¡Œè°ƒèŠ‚ã€‚**

ROI é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰ï¼š
           AAROIOffsetXï¼š X è½´æ–¹å‘åç§»ï¼›
           AAROIOffsetYï¼š Y è½´æ–¹å‘åç§»ï¼›
           AAROIWidthï¼š ROI åŒºåŸŸçš„å®½ï¼›
           AAROIHeightï¼š ROI åŒºåŸŸçš„é«˜ï¼›

Offset æ˜¯ç›¸å¯¹äºå›¾åƒå·¦ä¸Šè§’ä¸ºåŸç‚¹çš„åç§»å€¼ã€‚å…¶ä¸­ï¼ŒX è½´æ–¹å‘åç§»å’Œå®½åº¦çš„æ­¥é•¿ä¸º 4ï¼ŒY è½´æ–¹å‘åç§»å’Œé«˜åº¦çš„æ­¥é•¿ä¸º 2ã€‚å…¶ä¸­ï¼Œ AAROIWidth å¯è®¾ç½®çš„æœ€å°å€¼ä¸º ==16==ï¼Œæœ€å¤§å€¼ä¸ºå½“å‰å›¾åƒå®½ï¼›AAROIHeight å¯è®¾ç½®çš„æœ€å°å€¼ä¸º 16ï¼Œæœ€å¤§å€¼ä¸ºå½“å‰å›¾åƒé«˜

### 8.2 è‡ªåŠ¨å¢ç›Š

è‡ªåŠ¨å¢ç›Šè‡ªåŠ¨è°ƒèŠ‚ç›¸æœºçš„å¢ç›Šå€¼ï¼Œ==ä½¿ AAROI ä¸­çš„å¹³å‡ç°åº¦è¾¾åˆ°æœŸæœ›ç°åº¦å€¼==ã€‚è‡ªåŠ¨å¢ç›Šå¯é‡‡ç”¨â€œonceâ€å’Œ
â€œcontinuousâ€æ¨¡å¼è¿›è¡Œæ§åˆ¶ã€‚
å½“é‡‡ç”¨â€œonceâ€æ¨¡å¼æ—¶ï¼Œå°† ROI ä¸­æ•°æ®è°ƒèŠ‚è‡³æœŸæœ›ç°åº¦å€¼ï¼Œç„¶åå…³é—­è‡ªåŠ¨å¢ç›ŠåŠŸèƒ½ï¼›å½“é‡‡ç”¨â€œcontinuousâ€æ—¶ï¼Œç›¸æœºä¸€ç›´æ ¹æ® ROI ä¸­æ•°æ®è‡ªåŠ¨è°ƒèŠ‚ç›¸æœºå¢ç›Šå€¼ï¼Œä½¿ ROI ä¸­æ•°æ®ä¿æŒåœ¨æœŸæœ›ç°åº¦é™„è¿‘ã€‚
==æœŸæœ›ç°åº¦å€¼ç”±ç”¨æˆ·è®¾ç½®ï¼Œå…¶å€¼ä¸æ•°æ®ä½å®½æœ‰å…³==ï¼Œå¯¹äº 8 ä½åƒç´ æ•°æ®ï¼ŒæœŸæœ›ç°åº¦çš„èŒƒå›´æ˜¯ 0~255ï¼›å¯¹äº10 ä½åƒç´ æ•°æ®ï¼ŒæœŸæœ›ç°åº¦çš„èŒƒå›´æ˜¯ 0 ~ 1023ï¼›å¯¹äº 12 ä½åƒç´ æ•°æ®ï¼ŒæœŸæœ›ç°åº¦çš„èŒƒå›´æ˜¯ 0 ~ 4095ã€‚
==ç›¸æœºåœ¨è®¾ç½®çš„æœ€å°å¢ç›Šå’Œæœ€å¤§å¢ç›ŠèŒƒå›´å†…è°ƒèŠ‚å¢ç›Šå€¼ã€‚==
==è‡ªåŠ¨å¢ç›Šå¯ä»¥å’Œè‡ªåŠ¨æ›å…‰åŒæ—¶ä½¿ç”¨ï¼Œæ­¤æ—¶ï¼Œè°ƒèŠ‚é‡‡ç”¨æ›å…‰ä¼˜å…ˆ==ï¼Œå³ï¼šæ›å…‰è¾¾åˆ°è®¾ç½®çš„æœ€å¤§å€¼åï¼Œæ‰è°ƒèŠ‚å¢ç›Šå€¼ã€‚

### 8.3 è‡ªåŠ¨æ›å…‰

è‡ªåŠ¨æ›å…‰è‡ªåŠ¨è°ƒèŠ‚ç›¸æœºçš„æ›å…‰å€¼ï¼Œ==ä½¿ AAROI ä¸­çš„å¹³å‡ç°åº¦è¾¾åˆ°æœŸæœ›ç°åº¦å€¼==ã€‚è‡ªåŠ¨æ›å…‰å¯é‡‡ç”¨â€œonceâ€å’Œ
â€œcontinuousâ€æ¨¡å¼è¿›è¡Œæ§åˆ¶ã€‚
å½“é‡‡ç”¨â€œonceâ€æ¨¡å¼æ—¶ï¼Œå°† ROI ä¸­æ•°æ®è°ƒèŠ‚è‡³æœŸæœ›ç°åº¦å€¼ï¼Œç„¶åå…³é—­è‡ªåŠ¨æ›å…‰åŠŸèƒ½ï¼›å½“é‡‡ç”¨â€œcontinuousâ€æ—¶ï¼Œç›¸æœºä¸€ç›´æ ¹æ® ROI ä¸­æ•°æ®è‡ªåŠ¨è°ƒèŠ‚ç›¸æœºçš„æ›å…‰æ—¶é—´ï¼Œä½¿ ROI ä¸­æ•°æ®ä¿æŒåœ¨æœŸæœ›ç°åº¦é™„è¿‘ï¼›

==æœŸæœ›ç°åº¦å€¼ç”±ç”¨æˆ·è®¾ç½®ï¼Œå…¶å€¼ä¸æ•°æ®ä½å®½æœ‰å…³==ï¼Œå¯¹äº 8 ä½åƒç´ æ•°æ®ï¼ŒæœŸæœ›ç°åº¦çš„èŒƒå›´æ˜¯ 0~255ï¼Œå¯¹äº12 ä½åƒç´ æ•°æ®ï¼ŒæœŸæœ›ç°åº¦çš„èŒƒå›´æ˜¯ 0 ~ 4095ã€‚
==ç›¸æœºåœ¨è®¾ç½®çš„æœ€å°æ›å…‰å’Œæœ€å¤§æ›å…‰èŒƒå›´å†…è°ƒèŠ‚æ›å…‰å€¼ã€‚==
==è‡ªåŠ¨æ›å…‰å¯ä»¥å’Œè‡ªåŠ¨å¢ç›ŠåŒæ—¶ä½¿ç”¨ï¼Œæ­¤æ—¶ï¼Œè°ƒèŠ‚é‡‡ç”¨æ›å…‰ä¼˜å…ˆ==ï¼Œå³ï¼šæ›å…‰è¾¾åˆ°è®¾ç½®çš„æœ€å¤§å€¼åï¼Œæ‰è°ƒèŠ‚å¢ç›Šå€¼ã€‚

### 8.4 å¢ç›Šå’Œæ›å…‰çš„åŒºåˆ«

éƒ½å¯ä»¥æé«˜äº®åº¦ï¼Œä½†ä¸€èˆ¬ä¼˜å…ˆæ›å…‰ï¼Œå› ä¸ºæ›å…‰æ—¶é—´å¢é•¿å¯ä»¥æé«˜ä¿¡å™ªæ¯”ï¼ˆé™ä½å™ªå£°æ¯”ä¾‹ï¼‰ï¼Œè€Œå¢ç›Šä½¿ç”¨å¾ˆå°‘ï¼Œæ›å…‰éš¾ä»¥è·å¾—å…‰çº¿ï¼Œæˆ–è€…éœ€è¦å‡å°‘æ›å…‰æ—¶é—´çš„æ—¶å€™ï¼Œæ‰ä¼šé€‰æ‹©æé«˜å¢ç›Šï¼Œå› ä¸ºä½¿ç”¨å¢ç›Šæé«˜äº®åº¦ä¼šå¼•å…¥å¤§é‡å™ªå£°ã€‚

### 8.5 è‡ªåŠ¨ç™½å¹³è¡¡

è‡ªåŠ¨ç™½å¹³è¡¡æ ¹æ® ROI ä¸­çš„æ•°æ®è®¡ç®—ç™½å¹³è¡¡ç³»æ•°ï¼Œç„¶å==æ ¹æ®ç³»æ•°å¯¹å›¾åƒçš„å„åˆ†é‡è¿›è¡Œè°ƒèŠ‚ï¼Œä½¿ ROI åŒºåŸŸä¸­çš„çº¢ï¼Œç»¿ã€è“ä¸‰åˆ†é‡çš„å€¼ä¸€è‡´ã€‚==è‡ªåŠ¨ç™½å¹³è¡¡åªå¯¹å½©è‰²ä¼ æ„Ÿå™¨æœ‰æ•ˆã€‚
è‡ªåŠ¨ç™½å¹³è¡¡å¯ä»¥é‡‡ç”¨â€œonceâ€å’Œâ€œcontinuousâ€æ¨¡å¼è¿›è¡Œæ§åˆ¶ã€‚å½“é‡‡ç”¨â€œonceâ€æ¨¡å¼æ—¶ï¼Œç›¸æœºåªè°ƒèŠ‚ä¸€æ¬¡ï¼Œé‡‡ç”¨â€œcontinuousâ€æ¨¡å¼æ—¶ï¼Œç›¸æœºä¸æ–­æ ¹æ® ROI ä¸­çš„æ•°æ®è°ƒèŠ‚ç™½å¹³è¡¡ç³»æ•°ã€‚

è‡ªåŠ¨ç™½å¹³è¡¡è¿˜å¯ä»¥é€‰æ‹©==è‰²æ¸©==ï¼Œå½“é€‰æ‹©çš„è‰²æ¸©ä¸ºâ€œAdaptiveâ€æ—¶ï¼ŒROI ä¸­çš„æ•°æ®æ€»æ˜¯è°ƒèŠ‚ä¸ºçº¢ã€ç»¿ã€è“ä¸‰åˆ†é‡ä¸€è‡´ï¼›å½“é€‰æ‹©å…·ä½“è‰²æ¸©æ—¶ï¼Œç›¸æœºæ ¹æ®å…‰æºå¯¹ç³»æ•°è¿›è¡Œä¿®æ­£ï¼Œä½¿ ROI åŒºåŸŸçš„è‰²è°ƒä¸å…‰æºçš„è‰²è°ƒä¸€è‡´ï¼Œå³ï¼šé«˜è‰²æ¸©åå†·ï¼Œä½è‰²æ¸©åæš–ã€‚

### 8.6 æŸ¥æ‰¾è¡¨

Sensor è¯»å‡ºçš„æ¨¡æ‹Ÿä¿¡å·ç» ADC è½¬æ¢åï¼ŒåŸå§‹æ•°æ®ä½æ·±å¸¸å¤§äº 8bitsï¼Œæœ‰ 14bitsã€12bitsã€10bits ç­‰ã€‚å½“é€‰æ‹©è¾“å‡ºçš„æ•°æ®ä½æ·±ä¸º 8 ä½æ—¶ï¼Œéœ€è¦å°† 12 ä½æ•°æ®è½¬æ¢æˆ 8 ä½æ•°æ®ã€‚æŸ¥æ‰¾è¡¨å®ç°è¿™ç§ 12 ä½åˆ° 8 ä½çš„æ˜ å°„ã€‚
æŸ¥æ‰¾è¡¨å¯ä»¥æ˜¯çº¿æ€§æŸ¥æ‰¾è¡¨ï¼Œä¹Ÿå¯ä»¥æ˜¯éçº¿æ€§æŸ¥æ‰¾è¡¨ã€‚

### 8.7 æµ‹è¯•å›¾

#### 8.7.1 ç°åº¦æ¸å˜ä¾§è§†å›¾

ç°åº¦æ¸å˜æµ‹è¯•å›¾ä¸­ï¼Œå¸§å†…==æ‰€æœ‰åƒç´ çš„ç°åº¦å€¼éƒ½ç›¸ç­‰==ã€‚ç›¸é‚»å¸§ä¸­ï¼Œç›¸é‚»å¸§çš„åä¸€å¸§æ¯”ä¸Šä¸€å¸§çš„ç°åº¦å€¼é€’å¢ 1ï¼Œé€’å¢åˆ° 255 åï¼Œä¸‹ä¸€å¸§ç°åº¦å€¼å›åˆ° 0ï¼Œä¾æ¬¡å¾ªç¯ã€‚

####8.7.2 ç«–æ¡çº¹æ»šåŠ¨æµ‹è¯•å›¾

ç«–æ¡çº¹æ»šåŠ¨æµ‹è¯•å›¾ä¸­ï¼Œå›¾åƒå†…==æ¯ä¸€åˆ—ä¸­åƒç´ çš„ç°åº¦å€¼éƒ½ç›¸ç­‰==ï¼Œæ¯ä¸€è¡Œä¸­ä»å·¦åˆ°å³æ¯ä¸ªåƒç´ é€’å¢ 1ï¼Œåˆ°255 åï¼Œä¸‹ä¸€åƒç´ ç°åº¦å€¼å›åˆ° 0ã€‚

####8.7.3 æ–œæ¡çº¹æ»šåŠ¨æµ‹è¯•å›¾

æ–œæ¡çº¹æ»šåŠ¨æµ‹è¯•å›¾ä¸­ï¼Œæ¯å¸§å›¾åƒå†…ï¼Œç›¸é‚»è¡Œçš„ç¬¬ä¸€ä¸ªåƒç´ å€¼ä¾æ¬¡é€’å¢ 1ï¼Œç›´åˆ°æœ€åä¸€è¡Œã€‚åƒç´ ç°åº¦å€¼é€’å¢åˆ° 255 åï¼Œä¸‹ä¸€ç°åº¦å€¼å›åˆ° 0ã€‚ç›¸é‚»åˆ—çš„ç¬¬ä¸€ä¸ªåƒç´ å€¼ä¾æ¬¡é€’å¢ 1ï¼Œç›´åˆ°æœ€åä¸€åˆ—ã€‚åƒç´ ç°åº¦å€¼é€’å¢åˆ°255 åï¼Œä¸‹ä¸€ç°åº¦å€¼å›åˆ° 0ã€‚

### 8.8  å‚æ•°ç»„

é€šè¿‡è®¾ç½®ç›¸æœºçš„å„ç§å‚æ•°ï¼Œå¯ä»¥ä½¿ç›¸æœºåœ¨ä¸åŒçš„ç¯å¢ƒä¸­èƒ½å¤Ÿå‘æŒ¥æœ€ä½³çš„æ€§èƒ½ã€‚è®¾å®šå‚æ•°çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯==æ‰‹åŠ¨ä¿®æ”¹==å„é¡¹å‚æ•°ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡==åŠ è½½å‚æ•°ç»„==çš„æ–¹å¼ã€‚ä¸ºäº†èƒ½å¤Ÿä¿å­˜ç”¨æˆ·ä½¿ç”¨çš„ç‰¹å®šå‚æ•°ç¯å¢ƒï¼Œé¿å…æ¯æ¬¡æ‰“å¼€ç›¸æœºæ—¶éƒ½è¦é‡æ–°è®¾ç½®å‚æ•°ï¼ŒMER-G-P/MER-G ç›¸æœºæä¾›äº†==å‚æ•°ç»„ä¿å­˜åŠŸèƒ½==ï¼Œå¯ä»¥è½»æ¾å®ç°å¯¹æ•´å¥—å‚æ•°è¿›è¡Œä¿å­˜ï¼ŒåŒ…æ‹¬æ§åˆ¶ç›¸æœºæ‰€éœ€çš„å‚æ•°ã€‚==é…ç½®å‚æ•°åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼šå½“å‰ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ã€å‚å•†é»˜è®¤é…ç½®å‚æ•°ï¼ˆDefaultï¼‰ã€ç”¨æˆ·é…ç½®å‚æ•°ï¼ˆUserSetï¼‰ã€‚==
å¯¹é…ç½®å‚æ•°å¯ä»¥è¿›è¡Œä¸‰ç§æ“ä½œï¼ŒåŒ…æ‹¬==ä¿å­˜å‚æ•°ã€åŠ è½½å‚æ•°ã€è®¾ç½®å¯åŠ¨å‚æ•°ç»„ã€‚==ä¿å­˜å‚æ•°æ˜¯æŒ‡ä¿å­˜ç”Ÿæ•ˆçš„é…ç½®å‚æ•°åˆ°è®¾å®šçš„ç”¨æˆ·é…ç½®å‚æ•°ç»„ä¸­ã€‚åŠ è½½å‚æ•°æ˜¯æŒ‡å°†å‚å•†é»˜è®¤é…ç½®å‚æ•°æˆ–ç”¨æˆ·é…ç½®å‚æ•°åŠ è½½åˆ°å½“å‰ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¸­ã€‚é€‰æ‹©å¯åŠ¨å‚æ•°ç»„æ˜¯æŒ‡ç”¨æˆ·å¯ä»¥æŒ‡å®šä¸€ç»„å‚æ•°ï¼Œåœ¨ç›¸æœºå¤ä½æˆ–é‡æ–°ä¸Šç”µåï¼Œè¿™ç»„å‚æ•°ä¼šè‡ªåŠ¨åŠ è½½åˆ°ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¸­ï¼Œç›¸æœºä¼šåœ¨è¿™ç»„å‚æ•°ä¸‹è¿›è¡Œå·¥ä½œã€‚è¿™ç»„å‚æ•°å¯ä»¥æ˜¯å‚å•†é»˜è®¤é…ç½®å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·é…ç½®å‚æ•°ã€‚

#### 8.8.1 é…ç½®å‚æ•°çš„ç±»å‹

é…ç½®å‚æ•°çš„ç±»å‹åŒ…æ‹¬ï¼šç”Ÿæ•ˆçš„é…ç½®å‚æ•°ã€å‚å•†é»˜è®¤é…ç½®å‚æ•°ã€ç”¨æˆ·é…ç½®å‚æ•°ã€‚
ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ï¼šç”Ÿæ•ˆçš„é…ç½®å‚æ•°æ˜¯æŒ‡ç›¸æœºå½“å‰æ‰€ç”¨çš„æ§åˆ¶å‚æ•°ã€‚ä½¿ç”¨ API å‡½æ•°æˆ– Demo ç¨‹åºä¿®æ”¹å½“å‰ç›¸æœºçš„æ§åˆ¶å‚æ•°å°±æ˜¯åœ¨ä¿®æ”¹ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ï¼Œç”Ÿæ•ˆçš„é…ç½®å‚æ•°å­˜æ”¾åœ¨ç›¸æœºçš„æ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ï¼Œ==æ‰€ä»¥åœ¨ç›¸æœºå¤ä½æˆ–é‡æ–°ä¸Šç”µåï¼Œç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¼šä¸¢å¤±ã€‚==
å‚å•†é»˜è®¤é…ç½®å‚æ•°ï¼ˆDefaultï¼‰ï¼šåœ¨ç›¸æœºå‡ºå‚å‰ï¼Œç›¸æœºçš„ç”Ÿäº§å‚å•†ä¼šå¯¹ç›¸æœºè¿›è¡Œæµ‹è¯•ä»¥è¯„ä¼°ç›¸æœºçš„æ€§èƒ½å¹¶ä¼˜åŒ–ç›¸æœºçš„é…ç½®å‚æ•°ã€‚å‚å•†é»˜è®¤é…ç½®å‚æ•°å°±æ˜¯ç”Ÿäº§å‚å•†åœ¨ç‰¹å®šç¯å¢ƒä¸‹ä¼˜åŒ–åçš„ç›¸æœºé…ç½®å‚æ•°ï¼Œå‚å•†é»˜è®¤é…ç½®å‚æ•°å­˜æ”¾åœ¨ç›¸æœºçš„éæ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ï¼Œæ•…åœ¨ç›¸æœºå¤ä½å’Œé‡æ–°ä¸Šç”µåï¼Œå‚å•†é»˜è®¤é…ç½®å‚æ•°æ˜¯ä¸ä¼šä¸¢å¤±çš„ï¼Œå¹¶ä¸”==å‚å•†é»˜è®¤é…ç½®å‚æ•°æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚==
ç”¨æˆ·é…ç½®å‚æ•°ï¼ˆUserSetï¼‰ï¼šç”Ÿæ•ˆçš„é…ç½®å‚æ•°å­˜æ”¾åœ¨ç›¸æœºçš„æ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ï¼Œåœ¨ç›¸æœºå¤ä½å’Œé‡æ–°ä¸Šç”µåä¼šä¸¢å¤±ã€‚å¯ä»¥å°†ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¿å­˜åˆ°ç”¨æˆ·é…ç½®å‚æ•°ï¼Œç”¨æˆ·é…ç½®å‚æ•°ä½äºç›¸æœºçš„éæ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ã€‚åœ¨ç›¸æœºå¤ä½å’Œé‡æ–°ä¸Šç”µåï¼Œç”¨æˆ·é…ç½®å‚æ•°ä¸ä¼šä¸¢å¤±ã€‚MER-G-P/MER-G ç³»åˆ—ç›¸æœºå¯ä»¥ä¿å­˜ä¸€ç»„ç”¨æˆ·é…ç½®å‚æ•°ã€‚

#### 8.8.2 é…ç½®å‚æ•°çš„æ“ä½œ

å¯¹é…ç½®å‚æ•°çš„æ“ä½œåŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ï¼šä¿å­˜å‚æ•°ã€åŠ è½½å‚æ•°ã€è®¾ç½®å¯åŠ¨å‚æ•°ç»„ã€‚

==ä¿å­˜å‚æ•°==ï¼šå­˜å‚¨å½“å‰ç”Ÿæ•ˆçš„é…ç½®å‚æ•°åˆ°ç”¨æˆ·é…ç½®å‚æ•°ç»„ä¸­ã€‚å­˜å‚¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. ä¿®æ”¹ç›¸æœºçš„é…ç½®å‚æ•°ï¼Œç›´åˆ°ç›¸æœºçš„è¿è¡Œåˆ°è¾¾ç”¨æˆ·çš„éœ€æ±‚

2. æ‰§è¡Œä¿å­˜å‚æ•°å‘½ä»¤ï¼Œå°†ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¿å­˜åˆ°ç”¨æˆ·å‚æ•°ç»„ä¸­ã€‚
  ç”¨æˆ·å‚æ•°ç»„ä¸­ä¿å­˜çš„ç›¸æœºé…ç½®å‚æ•°åŒ…æ‹¬ï¼š
  âš« å¢ç›Š
  âš« æ›å…‰æ—¶é—´
  âš« ä¼ è¾“æ§åˆ¶æ¨¡å¼
  âš« åƒç´ æ ¼å¼
  1418.åŠŸèƒ½å®šä¹‰
  âš« æ°´å¹³åç§»ã€å‚ç›´åç§»ã€å›¾åƒå®½åº¦ã€å›¾åƒé«˜åº¦
  âš« æµé€šé“åŒ…é•¿ã€åŒ…é—´éš”
  âš« äº‹ä»¶ä½¿èƒ½
  âš« è§¦å‘æ¨¡å¼ã€è§¦å‘æºã€è§¦å‘ææ€§ã€è§¦å‘å»¶è¿Ÿ
  âš« ä¸Šå‡æ²¿è§¦å‘æ»¤æ³¢ã€ä¸‹é™æºè§¦å‘æ»¤æ³¢
  âš« IO å¼•è„šæ–¹å‘ã€å¼•è„šç”µå¹³åè½¬ã€å¼•è„šè¾“å‡ºæºã€ç”¨æˆ·è‡ªå®šä¹‰è¾“å‡º
  âš« å¸§è¦†ç›–ä½¿èƒ½
  âš« å¸§ä¿¡æ¯ä½¿èƒ½
  âš« æµ‹è¯•å›¾é€‰æ‹©
  âš« æœŸæœ›ç°åº¦å€¼
  âš« è‡ªåŠ¨æ›å…‰ä½¿èƒ½ã€è‡ªåŠ¨æ›å…‰æœ€å¤§å€¼ã€æœ€å°å€¼
  âš« è‡ªåŠ¨å¢ç›Šä½¿èƒ½ã€è‡ªåŠ¨å¢ç›Šæœ€å¤§å€¼ã€æœ€å°å€¼
  âš« è‡ªåŠ¨è°ƒèŠ‚æ„Ÿå…´è¶£åŒºåŸŸ x åæ ‡ã€y åæ ‡ã€å®½åº¦ã€é«˜åº¦
  âš« è‡ªåŠ¨ç™½å¹³è¡¡ã€è‡ªåŠ¨ç™½å¹³è¡¡å…‰æº
  âš« è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸ x åæ ‡ã€y åæ ‡ã€å®½åº¦ã€é«˜åº¦
  âš« ç™½å¹³è¡¡ç³»æ•° Rã€Gã€B åˆ†é‡
  âš« LUT æŸ¥æ‰¾è¡¨

  ==åŠ è½½å‚æ•°==ï¼šå°†å‚å•†é»˜è®¤é…ç½®å‚æ•°æˆ–ç”¨æˆ·é…ç½®å‚æ•°åŠ è½½åˆ°ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¸­ã€‚æ‰§è¡Œè¿™ä¸€æ“ä½œåï¼Œç”Ÿæ•ˆçš„é…ç½®å‚æ•°å°†è¢«ç”¨æˆ·é€‰æ‹©åŠ è½½çš„å‚æ•°è¦†ç›–ï¼Œå½¢æˆæ–°ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ã€‚æ‰§è¡Œè¿™ä¸€æ“ä½œçš„æ­¥éª¤å¦‚ä¸‹ï¼š

  1) é€‰æ‹©åŠ è½½å‚æ•°åŠŸèƒ½é¡¹ã€‚
  2) é€‰ä¸­å¸Œæœ›åŠ è½½çš„å‚æ•°ç»„ï¼Œå®ŒæˆåŠ è½½å‚æ•°ã€‚

â€‹        ==æ”¹å˜å¯åŠ¨å‚æ•°ç»„==ï¼šç”¨æˆ·èƒ½å¤Ÿé€‰æ‹©å‚å•†é»˜è®¤é…ç½®å‚æ•°æˆ–ç”¨æˆ·é…ç½®å‚æ•°ä½œä¸ºé»˜è®¤çš„å¯åŠ¨å‚æ•°ç»„ã€‚åœ¨ç›¸æœºå¤
â€‹        ä½å’Œé‡æ–°ä¸Šç”µåï¼Œå¯åŠ¨å‚æ•°ç»„ä¸­çš„å‚æ•°å°†åŠ è½½åˆ°ç”Ÿæ•ˆçš„é…ç½®å‚æ•°ä¸­ã€‚

###8.9  ç”¨æˆ·è‡ªå®šä¹‰åç§°

æˆ·å¯ä»¥ç»™ç›¸æœºè®¾ç½®ä¸€ä¸ªè‡ªå·±è®¾è®¡çš„å”¯ä¸€æ ‡è¯†ï¼Œå¹¶å¯ä»¥é€šè¿‡è¿™ä¸ªè‡ªå®šä¹‰çš„å”¯ä¸€æ ‡è¯†æ¥æ‰“å¼€å¹¶æ§åˆ¶ç›¸æœºã€‚å¤šä¸ªç›¸æœºåŒæ—¶ä½¿ç”¨æ—¶ï¼Œéœ€ä¿è¯æ¯ä¸ªç›¸æœºçš„ç”¨æˆ·è‡ªå®šä¹‰åç§°çš„å”¯ä¸€æ€§ï¼Œå¦åˆ™é€ æˆæ‰“å¼€ç›¸æœºæ—¶å®šä½è®¾å¤‡å¼‚å¸¸ã€‚



## 9. å›¾åƒä¼ è¾“

### 9.1 æœ€å¤§å¸§ç‡

æœ€å¤§å¸§ç‡å—ç½‘ç»œå…è®¸å¸§ç‡ï¼Œå›¾åƒé‡‡é›†æ—¶é—´å’Œç›¸æœºæ›å…‰æ—¶é—´å½±å“ã€‚ç›¸æœºçš„å¸§ç‡å–ç½‘ç»œæœ€å¤§å…è®¸å¸§ç‡ã€é‡‡é›†å¸§ç‡ã€æ›å…‰å¸§ç‡ä¸‰è€…ä¹‹ä¸­çš„æœ€å°å€¼ã€‚

#### 9.1.1  ç½‘ç»œå…è®¸æœ€å¤§å¸§ç‡

ç½‘ç»œå…è®¸æœ€å¤§å¸§ç‡æ˜¯==å½“å‰ç½‘ç»œèƒ½å¤Ÿæ”¯æŒçš„ç›¸æœºä¼ è¾“æœ€å¤§å¸§ç‡==ã€‚MER-G-P/MER-G ç³»åˆ—ç›¸æœºçš„ç½‘ç»œæ¥å£æ”¯æŒæœ€å¤§å¸§ç‡ç”±ç›¸æœºåˆ†è¾¨ç‡ã€åƒç´ æ ¼å¼ï¼ˆå›¾åƒä½æ·±ï¼‰ã€æœ‰æ•ˆç½‘ç»œå¸¦å®½ç­‰å†³å®šã€‚å¯ä»¥ç”¨å…¬å¼è¡¨ç¤ºï¼š
                                   ==ç½‘ç»œå…è®¸æœ€å¤§å¸§ç‡ = æœ‰æ•ˆç½‘ç»œå¸¦å®½/åˆ†è¾¨ç‡/å›¾åƒä½æ·±==

####9.1.2 ç›¸æœºé‡‡é›†æ—¶é—´è®¡ç®—

ç›¸æœºé‡‡é›†æ—¶é—´å’Œ==ROI è®¾ç½®ä¸­çš„å‚ç›´åç§»ã€é«˜åº¦ç›¸å…³==ã€‚å½“ ROI è®¾ç½®ä¸­å‚ç›´åç§»å’Œé«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå½±å“ç›¸æœºå‰ç«¯é‡‡é›†çš„å¸§å‘¨æœŸï¼Œè¿›è€Œå½±å“é‡‡é›†å¸§ç‡ã€‚

#### 9.1.3 ç›¸æœºå¸§ç‡

ç›¸æœºçš„å¸§ç‡é™¤äº†å—åˆ°ç½‘ç»œæœ€å¤§å…è®¸å¸¦å®½ã€ç›¸æœºé‡‡é›†æ—¶é—´çš„é™åˆ¶ä¹‹å¤–ï¼Œæ›å…‰æ—¶é—´ä¹Ÿä¼šå½±å“å¸§ç‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äº MER-200-20GM/C-P ç›¸æœºï¼Œå½“æ›å…‰æ—¶é—´ä¸º 100ms æ—¶ï¼Œå¯¹åº”çš„å¸§ç‡ä¸º 10 å¸§/ç§’ã€‚

### 9.2 åŒ…é•¿

æŒ‡==ç›¸æœºå‘ä¸»æœºç«¯ä¼ è¾“æµé€šé“æ•°æ®çš„ç½‘ç»œåŒ…å¤§å°==ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œé»˜è®¤å€¼ä¸º 1500ã€‚å…¶ä¸­åŒ…æ‹¬ IP å¤´ï¼ŒUDP å¤´å’Œ GVSP å¤´çš„é•¿åº¦æ€»è®¡ 36 å­—èŠ‚ï¼Œå› æ­¤åœ¨é»˜è®¤æƒ…å†µä¸‹æµé€šé“ç½‘ç»œåŒ…ä¸­çš„æœ‰æ•ˆè´Ÿè½½ä¸º 1464 å­—èŠ‚ã€‚==æ¨èä½¿ç”¨æœ€å¤§åŒ…é•¿è®¾ç½®ä¸º 8192 å­—èŠ‚ï¼Œå¯ä»¥æé«˜ç½‘ç»œä¼ è¾“æ€§èƒ½ã€‚==

### 9.3 åŒ…é—´éš”

ç”¨äºæ§åˆ¶ç›¸æœºä¼ è¾“å›¾åƒæµæ•°æ®çš„å¸¦å®½ã€‚==åŒ…é—´éš”æ˜¯åœ¨æµé€šé“ä¼ è¾“çš„ç›¸é‚»ç½‘ç»œæ•°æ®åŒ…ä¹‹é—´æ’å…¥çš„ç©ºé—²æ—¶é’Ÿä¸ªæ•°==ã€‚å¢åŠ åŒ…é—´éš”èƒ½å¤Ÿé™ä½ç›¸æœºå¯¹ç½‘ç»œå¸¦å®½çš„å ç”¨ç‡ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¯èƒ½é™ä½äº†ç›¸æœºçš„å¸§ç‡ï¼ˆç›¸æœºå¸§ç‡è¿˜å–å†³äºæ›å…‰æ—¶é—´ã€ç›¸æœºé‡‡é›†æ—¶é—´ï¼‰ã€‚

ä¼ è¾“å•ä¸ªæµæ•°æ®åŒ…æ‰€éœ€æ—¶é—´ï¼š

T ğ‘‘ğ‘ğ‘¡ğ‘ = (ğ‘†ğ‘–ğ‘§ğ‘’ ğ‘ğ‘˜ğ‘¡ Ã— 8ğ‘ğ‘–ğ‘¡ğ‘ ) â„ ğ‘†ğ‘ğ‘’ğ‘’ğ‘‘ ğ‘™ğ‘–ğ‘›ğ‘˜

åŒ…å»¶è¿Ÿæ—¶é—´ï¼š

ğ‘‡ ğ‘‘ğ‘’ğ‘™ğ‘ğ‘¦ = ğ·ğ‘’ğ‘™ğ‘ğ‘¦ ğ‘ğ‘˜ğ‘¡ â„ 125,000,000

å…¶ä¸­ï¼šåŒ…é•¿ğ‘†ğ‘–ğ‘§ğ‘’ ğ‘ğ‘˜ğ‘¡ ã€åŒ…é—´éš”ğ·ğ‘’ğ‘™ğ‘ğ‘¦ ğ‘ğ‘˜ğ‘¡ ã€é¢„ç•™å¸¦å®½BandW ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘Ÿğ‘£ğ‘’ ã€è¿æ¥é€Ÿåº¦ğ‘†ğ‘ğ‘’ğ‘’ğ‘‘ ğ‘™ğ‘–ğ‘›ğ‘˜

æœ‰æ•ˆç½‘ç»œå¸¦å®½ï¼š

Bandğ‘Š ğ‘ğ‘£ğ‘–ğ‘ğ‘™ = (ğ‘†ğ‘–ğ‘§ğ‘’ ğ‘ğ‘˜ğ‘¡ Ã— 8ğ‘ğ‘–ğ‘¡ğ‘  Ã— ï¼ˆ1 âˆ’ Bandğ‘Š ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘Ÿğ‘£ğ‘’ ï¼‰/(ğ‘‡ ğ‘‘ğ‘ğ‘¡ğ‘ + ğ‘‡ ğ‘‘ğ‘’ğ‘™ğ‘ğ‘¦ )

### 9.4é¢„ç•™å¸¦å®½

é¢„ç•™å¸¦å®½ï¼ˆBandwidth Reserveï¼‰ç”¨äºä¸ºæ•°æ®åŒ…é‡ä¼ å’Œç›¸æœºä¸ä¸»æœºä¹‹é—´æ§åˆ¶æ•°æ®ä¼ è¾“é¢„ç•™ä¸€éƒ¨åˆ†å¸¦å®½ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¤šæœºä¼ è¾“æ—¶ï¼Œå¯¹äºæ¯ä¸ªç›¸æœºå¸¦å®½çš„åˆ†é…é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œç½‘ç»œå¸¦å®½å€¼ä¸º 1Gbpsï¼Œè®¾ç½®é¢„ç•™å¸¦å®½å€¼ä¸º20%ï¼Œåˆ™å¸¦å®½å°†è¢«é¢„ç•™ä¸‹ 0.2Gbpsã€‚å½“é¢„ç•™çš„å¸¦å®½å¤§äºä¼ è¾“æ‰€éœ€çš„æœ€å¤§å¸¦å®½æ—¶ï¼Œç›¸æœºå°†é™ä½å¸§ç‡æ¥ä¿è¯ä¼ è¾“çš„ç¨³å®šæ€§ã€‚

### 9.5 å¸§ä¼ è¾“å»¶è¿Ÿ

å¤šä¸ªç›¸æœºå’Œä¸»æœºé€šè¿‡äº¤æ¢æœºè¿æ¥æ—¶ï¼Œå¦‚æœåŒæ—¶è§¦å‘è¿™äº›ç›¸æœºé‡‡é›†å›¾åƒï¼Œåœ¨ä¼ è¾“å›¾åƒç”±äºäº¤æ¢æœºçš„ç¬æ—¶å¸¦å®½è¿‡å¤§ï¼Œå­˜å‚¨èƒ½åŠ›æœ‰é™ï¼Œä¼š==å‡ºç°æ•°æ®ä¸¢å¤±é—®é¢˜==ã€‚å› æ­¤éœ€è¦ä½¿ç”¨å¸§ä¼ è¾“å»¶è¿Ÿé¿å…è¯¥é—®é¢˜å‘ç”Ÿã€‚åœ¨è§¦å‘æ¨¡å¼ä¸‹ï¼Œé€šè¿‡è®¾ç½®ä¼ è¾“æ§åˆ¶æ¨¡å¼ä¸ºâ€œç”¨æˆ·æ§åˆ¶â€ï¼Œå½“ç›¸æœºæ¥åˆ°è½¯è§¦å‘å‘½ä»¤æˆ–è€…å¤–è§¦å‘ä¿¡å·å¹¶å®Œæˆå›¾åƒé‡‡é›†ä»¥åï¼Œå°†å›¾åƒä¿å­˜åœ¨ç›¸æœºå†…éƒ¨çš„å¸§å­˜ä¸­ï¼Œç­‰å¾…ä¸»æœºç«¯å‘é€â€œå¼€å§‹ä¼ è¾“â€å‘½ä»¤ä»¥åï¼Œç›¸æœºå°†é‡‡é›†åˆ°çš„å›¾åƒä¼ è¾“åˆ°ä¸»æœºç«¯ã€‚ä¼ è¾“å»¶è¿Ÿæ—¶é—´ç”±ä¸»æœºç«¯å†³å®šã€‚åœ¨å¤šä¸ªç›¸æœºåŒæ—¶è§¦å‘çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ºæ¯å°ç›¸æœºè®¾ç½®ä¸åŒçš„ä¼ è¾“å»¶è¿Ÿæ—¶é—´ï¼Œä»¥é¿å…äº¤æ¢æœºçš„ç¬æ—¶å¸¦å®½è¿‡å¤§ã€‚

æ³¨ï¼šå¸§ä¼ è¾“å»¶è¿ŸåŠŸèƒ½ä»…åœ¨è§¦å‘æ¨¡å¼ä¸‹æœ‰æ•ˆã€‚



## 10.äº‹ä»¶

ç‰¹å®šçš„æƒ…å½¢å‘ç”Ÿæ—¶ï¼Œç›¸æœºå°†äº§ç”Ÿå¯¹åº”çš„â€œäº‹ä»¶â€ï¼Œå¹¶å°†äº‹ä»¶æ¶ˆæ¯å‘é€åˆ° PC æœºï¼Œå‘ŠçŸ¥ PC æœ‰â€œäº‹ä»¶â€å‘ç”Ÿäº†ã€‚åœ¨ MER-G-P/MER-G ç³»åˆ—ç›¸æœºä¸­ï¼Œ==ç›¸æœºä¼šåœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹äº§ç”Ÿå¹¶ä¼ é€’äº‹ä»¶ï¼šæ›å…‰ç»“æŸã€å›¾åƒå¸§æ•°æ®ä¸¢å¼ƒã€è§¦å‘ä¿¡å·æº¢å‡ºã€å›¾åƒå¸§å­˜æ•°æ®ä¸ä¸ºç©ºå’Œäº‹ä»¶é˜Ÿåˆ—æº¢å‡º==ã€‚æ¯ç§äº‹ä»¶éƒ½æœ‰ç›¸åº”çš„ä½¿èƒ½ä½ï¼Œ==åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç›¸æœºçš„æ‰€æœ‰äº‹ä»¶ä½¿èƒ½éƒ½ä¸ºå…³é—­çŠ¶æ€==ã€‚

åœ¨ä½¿ç”¨äº‹ä»¶åŠŸèƒ½çš„æ—¶å€™ï¼Œéœ€è¦é¦–å…ˆä½¿èƒ½ç›¸åº”çš„äº‹ä»¶ï¼Œå¹¶è®¾ç½®==äº‹ä»¶é€šé“çš„ç«¯å£å€¼ï¼Œäº‹ä»¶é‡ä¼ çš„è¶…æ—¶æ—¶é—´å’Œäº‹ä»¶é‡ä¼ çš„æ¬¡æ•°==ç»™ç›¸æœºã€‚å½“äº‹ä»¶çš„é‡ä¼ è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 0 æ—¶ï¼Œç›¸æœºå‘é€çš„äº‹ä»¶å°†ä¸éœ€è¦ PC è¿”å›åº”ç­”åŒ…ã€‚å½“äº‹ä»¶é€šé“çš„ç«¯å£å€¼ä¸º 0 æ—¶ï¼Œç›¸æœºå°†ä¸ä¼šå‘é€äº‹ä»¶ç»™ PCã€‚å…¶ä»–æƒ…å†µä¸‹ï¼Œç›¸æœºéœ€è¦æ¥æ”¶åˆ° PC çš„åº”ç­”åŒ…åæ‰ä¼šå‘é€ä¸‹ä¸€ä¸ªäº‹ä»¶ã€‚å½“ç›¸æœºå‘é€çš„äº‹ä»¶æ²¡æœ‰æ¥æ”¶åˆ°åº”ç­”åŒ…çš„æ—¶å€™ï¼Œç›¸æœºä¼šæ ¹æ®è®¾ç½®çš„é‡ä¼ çš„è¶…æ—¶æ—¶é—´å’Œé‡ä¼ æ¬¡æ•°é‡ä¼ æ­¤äº‹ä»¶ã€‚

![äº‹ä»¶](/home/peter/å›¾ç‰‡/äº‹ä»¶è¿”å›ä¿¡æ¯.png)

å…¶ä¸­ï¼šæ—¶é—´æˆ³ä¸ºäº‹ä»¶å‘ç”Ÿçš„æ—¶åˆ»ï¼Œä»ç›¸æœºä¸Šç”µæˆ–å¤ä½åå¼€å§‹è®¡æ—¶ã€‚æ—¶é—´æˆ³çš„ä½å®½æ˜¯ 64bitsï¼Œå•ä½ä¸º 20nsã€‚

###10.1æ›å…‰ç»“æŸäº‹ä»¶

åœ¨æ›å…‰ç»“æŸäº‹ä»¶ä½¿èƒ½æ—¶ï¼Œå½“ç›¸æœºçš„ä¼ æ„Ÿå™¨å®Œæˆæ›å…‰ä»¥åï¼Œç›¸æœºå‘ PC æœºå‘é€ä¸€æ¬¡æ›å…‰ç»“æŸäº‹ä»¶ï¼Œè¡¨ç¤º==å·²ç»å®Œæˆæ›å…‰==ã€‚

### 10.2 å›¾åƒå¸§æ•°æ®ä¸¢å¼ƒäº‹ä»¶

å½“==ç›¸æœºå‘å†…éƒ¨å¸§å­˜å†™å…¥æ•°æ®çš„å¹³å‡å¸¦å®½å¤§äºè¯»å‡ºæ•°æ®çš„å¹³å‡å¸¦å®½æ—¶ï¼Œä¼šå‡ºç°å¸§å­˜æ»¡çš„æƒ…å†µã€‚å¦‚æœå¸§å­˜æ»¡åç»§ç»­å†™å…¥å›¾åƒæ•°æ®ï¼Œå°†è¦†ç›–ä»¥å‰å¸§å­˜é‡Œçš„å›¾åƒæ•°æ®==ã€‚æ­¤æ—¶ï¼Œç›¸æœºå‘ PC æœºå‘é€ä¸€æ¬¡å›¾åƒå¸§æ•°æ®ä¸¢å¼ƒäº‹ä»¶ï¼Œè¡¨ç¤ºæœ‰ä¸€å¸§å›¾åƒè¢«ä¸¢å¼ƒè¦†ç›–ã€‚==è¿™æ ·åœ¨è¯»å‡ºä¸‹ä¸€å¸§å›¾åƒæ—¶ï¼Œå›¾åƒä¼šæœ‰è·³è·ƒã€‚==

###10.3 å¸§å­˜ä¸ä¸ºç©ºäº‹ä»¶

å½“ç›¸æœºå‘å†…éƒ¨å¸§å­˜å†™å…¥æ•°æ®çš„å¹³å‡å¸¦å®½å¤§äºè¯»å‡ºæ•°æ®çš„å¹³å‡å¸¦å®½æ—¶ï¼Œæ­¤æ—¶å¦‚æœå¸§å­˜æœªæ»¡ï¼Œä½†å¸§å­˜å†…æœ‰æœªå‘é€å®Œæˆçš„å›¾åƒå¸§æ•°æ®ï¼Œåœ¨æ–°çš„å›¾åƒå¸§å†™å…¥å¸§å­˜ä¹‹å‰ï¼Œç›¸æœºå‘ PC æœºå‘é€ä¸€ä¸ªå¸§å­˜ä¸ä¸ºç©ºäº‹ä»¶ï¼Œ==è¡¨ç¤ºåœ¨å†™å…¥æ–°çš„å›¾åƒå¸§æ—¶ï¼Œå‰ä¸€å¸§å›¾åƒè¿˜æœªå‘é€å®Œæˆ==ã€‚

### 10.4 è§¦å‘ä¿¡å·æº¢å‡ºäº‹ä»¶

==å½“ç›¸æœºæ¥æ”¶åˆ°å¤–è§¦å‘æˆ–è€…è½¯è§¦å‘ä¿¡å·æ—¶ï¼Œå¦‚æœå‰ç«¯ä¼ æ„Ÿå™¨æ­£å¤„äºæ›å…‰çŠ¶æ€ï¼Œå°†æ— æ³•å“åº”æ–°çš„è§¦å‘ä¿¡å·ï¼Œç›¸æœºæœºå‘ PC æœºå‘é€ä¸€ä¸ªè§¦å‘ä¿¡å·æº¢å‡ºäº‹ä»¶ã€‚==æ³¨æ„ï¼Œå¦‚æœåœ¨ä¸€å¸§å›¾åƒçš„é‡‡é›†å‘¨æœŸå†…æ¥æ”¶åˆ°å¤šä¸ªè§¦å‘ä¿¡å·ï¼Œç›¸æœºä»…å‘é€ä¸€æ¬¡è§¦å‘ä¿¡å·æº¢å‡ºäº‹ä»¶ã€‚

### 10.5 äº‹ä»¶é˜Ÿåˆ—æº¢å‡º

åœ¨ç›¸æœºå†…éƒ¨ï¼Œæœ‰ä¸€ä¸ªç”¨äºç¼“å­˜äº‹ä»¶çš„äº‹ä»¶é˜Ÿåˆ—ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‘é€ç»™ PC çš„äº‹ä»¶æ•°æ®åŒ…åªåŒ…å«ä¸€ä¸ªäº‹ä»¶ã€‚å½“æœ‰å¤šä¸ªäº‹ä»¶åŒæ—¶å‘ç”Ÿæ—¶ï¼Œæˆ–è€…äº‹ä»¶ä¼ è¾“æœ‰å»¶è¿Ÿçš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ç›¸æœºå†…éƒ¨ä½¿ç”¨äº‹ä»¶é˜Ÿåˆ—å¯¹äº‹ä»¶è¿›è¡Œç¼“å­˜ã€‚å½“å¯ä»¥å‘é€äº‹ä»¶çš„æ—¶å€™ï¼Œç›¸æœºä¼šå°†é˜Ÿåˆ—é‡Œé¢ç¼“å­˜çš„æ‰€æœ‰äº‹ä»¶éƒ½å‘é€å‡ºï¼Œè¿™æ—¶å‘é€ç»™ PC çš„äº‹ä»¶æ•°æ®åŒ…ä¼šåŒ…å«å¤šä¸ªäº‹ä»¶ã€‚ä½†å¦‚æœç›¸æœºè¿è¡Œåœ¨é«˜å¸§ç‡æ¨¡å¼ä¸‹ï¼Œå‘é€çš„äº‹ä»¶ä¸ªæ•°è¶…è¿‡ç›¸æœºçš„ç¼“å­˜èƒ½åŠ›æ—¶ï¼Œå¦‚æœä½¿èƒ½äº‹ä»¶é˜Ÿåˆ—æº¢å‡ºäº‹ä»¶ï¼Œç›¸æœºä¼šå‘ PC æœºå‘é€ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—æº¢å‡ºäº‹ä»¶ï¼Œå¹¶ä¸¢å¼ƒå½“å‰ç¼“å­˜çš„æ‰€æœ‰äº‹ä»¶ã€‚



## 11.å¸¸è§é—®é¢˜

### 11.1ç›¸æœºå¼€å§‹é‡‡é›†åæ²¡æœ‰å›¾åƒ

1) ç¡®è®¤ç›¸æœºåŒ…é•¿è®¾ç½®å¤§äº 1500ï¼Œè‹¥ä¸»æœºä¸æ˜¯å·¨å¸§æ¨¡å¼ï¼Œä¿®æ”¹ä¸»æœºä¸ºå·¨å¸§æ¨¡å¼ï¼›
2) åŠ è½½é»˜è®¤å‚æ•°ç»„åï¼Œé‡æ–°æ‰“å¼€ç¨‹åºï¼Œå†æ¬¡å¼€å§‹é‡‡é›†ï¼Œç¡®è®¤æ˜¯å¦æœ‰å›¾åƒï¼›
3) æ‰“å¼€æ¼”ç¤ºç¨‹åºï¼Œæ‰“å¼€å±æ€§é…ç½®é¡µé¢ï¼ŒæŸ¥çœ‹æµé…ç½®ä¿¡æ¯ï¼Œç¡®è®¤æ˜¯å¦æœ‰æ¥æ”¶åˆ°æ•°æ®åŒ…ï¼Œå¦‚æœæœ‰æ•°æ®åŒ…ï¼Œä½†éƒ½ä¸ºæ®‹å¸§ï¼Œè¯·æŒ‰ç…§2.2 èŠ‚ä¸­ä½¿ç”¨ç¯å¢ƒæ³¨æ„äº‹é¡¹è¿›è¡Œç¡®è®¤ã€‚

### 11.2 å¤šç›¸æœºåŒæ—¶ä½¿ç”¨æ—¶ä¸¢å¸§ä¸¥é‡

1. é‡‡ç”¨è°ƒèŠ‚åŒ…é•¿æˆ–åŒ…é—´éš”å‚æ•°ï¼Œæ­¤æ–¹å¼ä¼šä¸¥é‡é™ä½å¸§ç‡ï¼›
2. é‡‡ç”¨å¤šç½‘å¡ï¼Œå³ç›¸æœºåˆ†åˆ«è¿æ¥åˆ°ä¸åŒçš„ç½‘å¡ä¸Šï¼Œä»¥åˆ†æ‹…ç½‘ç»œå ç”¨å¸¦å®½ã€‚

###11.3  è®¾å¤‡å¼€å§‹é‡‡é›†å¤±è´¥ï¼Œæç¤º Attachè€…è§¦å‘æ–¹å¼é‡‡é›†çš„ç”¨æˆ·å¯ä»¥é€‰æ‹©ï¼Œ ä½†å¯¹äºé‡‡é›†å¸§ç‡è¦æ±‚è¾ƒé«˜Buffer å¤±è´¥
1) æ–¹æ³• 1ï¼š ä¿®æ”¹æµå±‚çš„å‚æ•° MaxNumQueueBufferï¼ˆ é‡‡é›†é˜Ÿåˆ—æœ€å¤§ Buffer ä¸ªæ•°ï¼‰ï¼Œä¸º 9 ä»¥ä¸‹ï¼›è§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹ä¼šé™ä½é‡‡é›†æ€§èƒ½ï¼Œå¯¹äºé‡‡é›†å¸§ç‡è¦æ±‚è¾ƒä½æˆ–è€…è§¦å‘æ–¹å¼é‡‡é›†çš„ç”¨æˆ·å¯ä»¥é€‰æ‹©ï¼Œ ä½†å¯¹äºé‡‡é›†å¸§ç‡è¦æ±‚è¾ƒé«˜çš„ç”¨æˆ·ä¸å»ºè®®ä½¿ç”¨ï¼›
2) æ–¹æ³• 2ï¼š å¢åŠ ç‰©ç†å†…å­˜å¤§å°ï¼Œå¹¶å°†ç³»ç»Ÿæ¢æˆ 64 ä½ç³»ç»Ÿï¼Œ æ¨èä½¿ç”¨ Win7 åŠä»¥ä¸Šç³»ç»Ÿï¼Œæ­¤æ–¹æ³•èƒ½è¾ƒå¥½è§£å†³æ­¤é—®é¢˜ã€‚



## 12. æµç¨‹

###12.1  æ•´ä½“å·¥ä½œæµç¨‹

![](/home/peter/å›¾ç‰‡/æ•´ä½“å·¥ä½œæµç¨‹.png)

### 12.2 ç›¸æœºæ§åˆ¶æµç¨‹

![](/home/peter/å›¾ç‰‡/ç›¸æœºæ§åˆ¶æµç¨‹.png) 

### 12.3 DQAllBufs é‡‡é›†æµç¨‹

![](/home/peter/å›¾ç‰‡/DQAllBufsé‡‡é›†æµç¨‹.png)

æ³¨æ„äº‹é¡¹ï¼š

1. ==ç”¨æˆ·é‡‡é›†çº¿ç¨‹å¿…é¡»åœ¨å¼€é‡‡åå¯åŠ¨ï¼Œåœ¨åœé‡‡å‰é”€æ¯ã€‚==

2. GXStreamOff åœé‡‡æ¥å£æˆ– GXQAllBufs æ¥å£ä¼šå°†æ‰€æœ‰é€šè¿‡ GXDQAllBufs è·å–åˆ°çš„å›¾åƒ buf æ”¾å› GxIAPIåº“ï¼Œä¹‹åä¸èƒ½å†è®¿é—®è¿™äº›å›¾åƒ buf æŒ‡é’ˆï¼›
3. ä¸Šè¿°æµç¨‹æ¼”ç¤ºäº†å¯åŠ¨çº¿ç¨‹çš„æ–¹å¼è¿›è¡Œå›¾åƒé‡‡é›†ï¼Œä¹Ÿå¯ä»¥ä¸å¯åŠ¨çº¿ç¨‹ç›´æ¥åœ¨å¼€é‡‡åè°ƒç”¨ GXDQAllBufs é‡‡é›†å›¾åƒã€‚
4. å›¾åƒå¤„ç†æˆ–æ˜¾ç¤ºå‡ºç°å»¶è¿Ÿçš„æƒ…å†µä¸‹ï¼Œå¯é‡‡ç”¨æ­¤ç§é‡‡é›†æ–¹æ¡ˆåªå¤„ç†æˆ–æ˜¾ç¤ºæ•°ç»„ä¸­çš„æœ€åä¸€å¹…å›¾åƒæ¥ç¼“è§£å»¶è¿Ÿã€‚

### 12.4 å›è°ƒé‡‡é›†æµç¨‹

![](/home/peter/å›¾ç‰‡/å›è°ƒé‡‡é›†æµç¨‹.png)

### 12.5  æ‰çº¿äº‹ä»¶è·å–æµç¨‹

![](/home/peter/å›¾ç‰‡/æ‰çº¿äº‹ä»¶è·å–æµç¨‹.png)

### 12.6 è¿œç«¯è®¾å¤‡äº‹ä»¶è·å–æµç¨‹

![](/home/peter/å›¾ç‰‡/è¿œç«¯è®¾åˆ«äº‹ä»¶è·å–æµç¨‹.png)



## 13 . ç¼–ç¨‹æŒ‡å¼•

### 13.1 ç¯å¢ƒ

GxIAPI å’Œ DxImageProc æ˜¯å¤§æ’å›¾åƒè½¯ä»¶éƒ¨å‡ºå“çš„é€šç”¨ C++ç¼–ç¨‹æ¥å£å’Œå›¾åƒå¤„ç†ç®—æ³•æ¥å£ï¼Œ

â¢ GxIAPI.dllã€DxImageProc.dll         åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶
â¢ GxIAPI.libã€DxImageProc.lib         ç¼–è¯‘ç¨‹åºæ—¶é™æ€é“¾æ¥
â¢ GxIAPI.hã€DxImageProc.h             æ¥å£åŠå®å£°æ˜å¤´æ–‡ä»¶

ç”¨æˆ·ä½¿ç”¨ GxIAPI æˆ– DxImageProc åˆ›å»ºå·¥ç¨‹çš„æ—¶å€™éœ€è¦åŒ…å«.h å¤´æ–‡ä»¶å’Œ.lib é™æ€é“¾æ¥åº“ï¼Œæ‰èƒ½æ­£å¸¸è°ƒç”¨ã€ç¼–è¯‘ã€‚

### 13.2 åˆå§‹åŒ–

åœ¨ä½¿ç”¨ GxIAPI æ¥å£ä¹‹å‰å¿…é¡»è°ƒç”¨ ==GXInitLib å¯¹åº“è¿›è¡Œåˆå§‹åŒ–æ“ä½œ==ï¼Œå½“ç”¨æˆ·åº”ç”¨ç¨‹åº==é€€å‡ºçš„æ—¶å€™ä¹Ÿå¿…é¡»è°ƒç”¨ GXCloseLib æ¥é‡Šæ”¾èµ„æº==ä¸ GxInitLib ç›¸å¯¹åº”ï¼Œæœ¬æ–‡æ‰€æœ‰çš„ç‰‡æ®µç¤ºä¾‹ä»£ç ä¸­é»˜è®¤éƒ½è¿›è¡Œäº†åˆå§‹åŒ–å’Œååˆå§‹åŒ– GxIAPI åº“çš„æ“ä½œã€‚

```c++
#include"GxIAPI.h"
int main(int argc, char* argv[])
{
    GX_STATUS status = GX_STATUS_SUCCESS;
    //åœ¨ èµ· å§‹ ä½ ç½® è°ƒ ç”¨ GXInitLib()è¿› è¡Œ åˆ å§‹ åŒ– ï¼Œ ç”³ è¯· èµ„ æº
    status = GXInitLib();
    if (status != GX_STATUS_SUCCESS)
    {
     return 0;
    }
    //ä½¿ ç”¨ GxIAPI
    //...
    //åœ¨ ç»“ æŸ çš„ æ—¶ å€™ è°ƒ ç”¨ GXCLoseLib()é‡Š æ”¾ èµ„ æº
    status = GXCloseLib();
    return0;
}
```

### 13.3 æšä¸¾ç›¸æœºå¹¶è·å–ä¿¡æ¯

ç”¨æˆ·å¯ä»¥==è°ƒç”¨ GXUpdateDeviceList æ¥å£æ¥æšä¸¾å½“å‰å¯ç”¨çš„è®¾å¤‡ï¼Œè¿”å›è®¾å¤‡ä¸ªæ•°ï¼Œ==ç„¶ååœ¨==ä¸æ‰“å¼€ç›¸æœºçš„å‰æä¸‹ä½¿ç”¨ GxGetAllDeviceBaseInfo æ¥è·å–è®¾å¤‡åŸºç¡€ä¿¡æ¯==ã€‚

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
uint32_t nDeviceNum = 0;
status = GXUpdateDeviceList(&nDeviceNum, 1000);
if (status == GX_STATUS_SUCCESS&&nDeviceNum> 0)
{
GX_DEVICE_BASE_INFO *pBaseinfo = new GX_DEVICE_BASE_INFO[nDeviceNum];
uint32_t nSize = nDeviceNum * sizeof(GX_DEVICE_BASE_INFO);  //nsizeè®°å½•æ€»ç›¸æœºä¿¡æ¯å¤§å°
//è· å– æ‰€ æœ‰ è®¾ å¤‡ çš„ åŸº ç¡€ ä¿¡ æ¯
status = GXGetAllDeviceBaseInfo(pBaseinfo, &nSize);
delete []pBaseinfo;
}
```

###13.4 é…ç½®ç›¸æœº IP åœ°å€

1) å¯¹äº GigE ç½‘ç»œç›¸æœºï¼Œç”¨æˆ·å¯ä»¥==è°ƒç”¨ GXGigEIpConfiguration é…ç½®ç›¸æœº IP åœ°å€==ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼è®¾ç½®çš„ IP åœ°å€åœ¨ç›¸æœºæ‰ç”µé‡å¯åä»ç„¶æœ‰æ•ˆã€‚è°ƒç”¨==æ­¤å‡½æ•°éœ€è¦ä¼ å…¥ç›®çš„ç›¸æœºçš„ MAC åœ°å€ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨GxGetDeviceIPInfo è·å¾—==ã€‚

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//æœ¬ ä¾‹ ä»¥ æ°¸ ä¹… IP é… ç½® æ–¹ å¼ è¯´ æ˜ ,å…¶ ä»– IP é… ç½® æ–¹ å¼ ç±» ä¼¼
//è®¾ ç½® ä¸º æ°¸ ä¹… IP é… ç½® æ–¹ å¼
status = GXGigEIpConfiguration(szMAC, emIpConfigureMode, szIpAddress, szSubnetMask,
szDefaultGateway, szUserID);
```

2) ç”¨æˆ·åŒæ ·å¯ä»¥==è°ƒç”¨ GXGigEForceIp é…ç½®ç›¸æœº IP åœ°å€==ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼è®¾ç½®çš„ IP åœ°å€åªåœ¨æœ¬æ¬¡ä½¿ç”¨ä¸­æœ‰æ•ˆï¼Œç›¸æœºæ‰ç”µé‡å¯åä¼šæ¢å¤ä»¥å‰çš„ IP åœ°å€ã€‚è°ƒç”¨æ­¤å‡½æ•°==éœ€è¦ä¼ å…¥ç›®çš„ç›¸æœºçš„ MAC åœ°å€ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨
GxGetDeviceIPInfo è·å¾—==ã€‚

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
// ForceIp
status = GXGigEForceIp(szMAC, szIpAddress, szSubnetMask, szDefaultGateway);
```

### 13.5  æ‰“å¼€å…³é—­ç›¸æœº

è°ƒç”¨ GXUpdateDeviceList æ¥å£æšä¸¾è®¾å¤‡åï¼Œè¿”å›çš„è®¾å¤‡ä¸ªæ•°å¦‚æœå¤§äº 0ï¼Œè¯´æ˜å½“å‰æœ‰å¯ç”¨è®¾å¤‡ï¼Œç”¨æˆ·==è°ƒç”¨ GxOpenDevice æ¥å£æ¥æ‰“å¼€è®¾å¤‡==ã€‚

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
size_t nDeviceNum = 0;
GX_OPEN_PARAM stOpenParam;
status = GXUpdateDeviceList(&nDeviceNum, 1000);
if (status == GX_STATUS_SUCCESS&&nDeviceNum> 0)
{
GX_DEV_HANDLE hDevice = NULL;
//æ‰“ å¼€ æš ä¸¾ åˆ— è¡¨ ä¸­ çš„ ç¬¬ ä¸€ å° è®¾ å¤‡ ã€‚
//å‡è®¾æšä¸¾åˆ°äº† 3 å°å¯ç”¨è®¾å¤‡ï¼Œé‚£ä¹ˆç”¨æˆ·å¯è®¾ç½® stOpenParam å‚æ•°çš„ pszContent å­—æ®µä¸º 1ã€2ã€3
stOpenParam.accessMode = GX_ACCESS_EXCLUSIVE;
stOpenParam.openMode = GX_OPEN_INDEX;
stOpenParam.pszContent = "1";
//é€š è¿‡ åº åˆ— å· æ‰“ å¼€ è®¾ å¤‡
//stOpenParam.openMode = GX_OPEN_SN;
//stOpenParam.pszContent = "EA00010002";
//é€š è¿‡ IP åœ° å€ æ‰“ å¼€ è®¾ å¤‡
//stOpenParam.openMode = GX_OPEN_IP;
//stOpenParam.pszContent = "192.168.40.35";
//é€š è¿‡ MAC åœ° å€ æ‰“ å¼€ è®¾ å¤‡
//stOpenParam.openMode = GX_OPEN_MAC;
//stOpenParam.pszContent = "54-04-A6-C2-7C-2F";
status = GXOpenDevice(&stOpenParam, &hDevice);
//æ“ ä½œ è®¾ å¤‡ ï¼š æ§ åˆ¶ ã€ é‡‡ é›†
//â€¦
//å…³ é—­ è®¾ å¤‡
status = GXCloseDevice(hDevice);
}
```

GxOpenDevice å¯ç”¨æŒ‡å®šè®¿é—®æ–¹å¼ï¼ˆç‹¬å ã€æ§åˆ¶ç­‰ï¼‰ã€æ‰“å¼€æ–¹å¼ï¼ˆé€šè¿‡ IPã€åºåˆ—å·ã€MACã€Index ç­‰ï¼‰æ‰“å¼€ç›¸æœºã€‚

### 13.6 æ§åˆ¶ç›¸æœºåŠŸèƒ½

**æ•´å‹ç›¸å…³æ¥å£ï¼š**
GXGetIntRangeï¼šæŸ¥è¯¢èŒƒå›´ï¼Œæœ€å°å€¼ã€æœ€å¤§å€¼ã€æ­¥é•¿
GXGetIntï¼šè¯»å–å€¼
GXSetIntï¼šè®¾ç½®å€¼

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è· å– æ•´ å‹ èŒƒ å›´
GX_INT_RANGE stIntRange;
status = GXGetIntRange(hDevice, GX_INT_WIDTH, &stIntRange);
//è¯» å– å½“ å‰ å€¼
int64_t nValue = 0;
status = GXGetInt(hDevice, GX_INT_WIDTH, &nValue);
//è®¾ ç½® å½“ å‰ å€¼ ä¸º æœ€ å° å€¼
nValue = stIntRange.nMin;
status = GXSetInt(hDevice, GX_INT_WIDTH, nValue);
```

**æµ®ç‚¹å‹ç›¸å…³æ¥å£**ï¼š
GXGetFloatRangeï¼šæŸ¥è¯¢å€¼çš„èŒƒå›´ï¼Œæœ€å°å€¼ã€æœ€å¤§å€¼ã€æ­¥é•¿ã€å•ä½
GXGetFloatï¼šè¯»å–
GXSetFloatï¼šè®¾ç½®
**æšä¸¾å‹ç›¸å…³æ¥å£ï¼š**
GXGetEnumEntryNumsï¼šè·å–æšä¸¾é¡¹çš„ä¸ªæ•°
GXGetEnumDescriptionï¼šæŸ¥è¯¢æšä¸¾æè¿°ï¼Œæšä¸¾é¡¹çš„å€¼åŠæšä¸¾é¡¹çš„æè¿°
GXGetEnumï¼šè¯»å–
GXSetEnumï¼šè®¾ç½®
**å¸ƒå°”å‹ç›¸å…³æ¥å£ï¼š**
GXGetBoolï¼šè¯»å–
GXSetBoolï¼šè®¾ç½®
**å­—ç¬¦ä¸²å‹ç›¸å…³æ¥å£ï¼š**
GXGetStringLengthï¼šæŸ¥è¯¢å­—ç¬¦ä¸²å½“å‰å€¼çš„é•¿åº¦ï¼Œå•ä½å­—èŠ‚
GXGetStringMaxLengthï¼šæŸ¥è¯¢å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œå•ä½å­—èŠ‚
GXGetStringï¼šè¯»å–
GXSetStringï¼šè®¾ç½®
**å—æ•°æ®å‹ç›¸å…³æ¥å£**ï¼š
GXGetBufferLengthï¼šæŸ¥è¯¢å—å„¿æ•°æ®çš„é•¿åº¦ï¼Œç”¨æ­¤é•¿åº¦ç”³è¯·å†…å­˜ï¼Œç„¶åå†è°ƒç”¨ GXGetBuffer è¯»å–æ•°æ®
GXGetBufferï¼šè¯»å–
GXSetBufferï¼šè®¾ç½®
**å‘½ä»¤å‹ç›¸å…³æ¥å£ï¼š**
GXSendCommandï¼šå‘é€å‘½ä»¤

### 13.7 DQBuf å›¾åƒé‡‡é›†

è°ƒç”¨ GXOpenDevice æ¥å£æ‰“å¼€è®¾å¤‡åï¼Œ==é¡ºåºè°ƒç”¨ GXStreamOn æ¥å£å¯ä½¿æµå¼€é‡‡å’Œè¿œç«¯è®¾å¤‡å¼€é‡‡ï¼Œæ­¤æ—¶å¾ªç¯è°ƒç”¨ GXDQBuf ã€ GXQBufï¼ˆGXDQAllBufs ã€ GXQAllBufs åŒç†ï¼‰å¯å®ç°è¿ç»­é‡‡é›†å›¾åƒ==ã€‚è°ƒç”¨ GXQBufæ¥å£å°†å›¾åƒ buf æ”¾å› GxIAPI åº“åï¼Œä¸èƒ½å†è®¿é—®è¯¥å›¾åƒ buf æŒ‡é’ˆã€‚

```c++
//-------------------------------
//GXDQBuf æ¥ å£ ä¸€ æ¬¡ è· å– ä¸€ å¸§ å›¾ åƒ ï¼Œ æœ¬ æ · ä¾‹ ä»£ ç  æ¼” ç¤º çš„ å°± æ˜¯ å¦‚ ä½• ç”¨ æ­¤ æ¥ å£ è· å– ä¸€ å¸§ å›¾ åƒ
//-------------------------------
#include "GxIAPI.h"
int main(int argc, char* argv[])
{
  GX_STATUS  status = GX_STATUS_SUCCESS;
  GX_DEV_HANDLE hDevice = NULL;
  uint32_t  nDeviceNum = 0;
  //åˆ å§‹ åŒ– åº“
  status = GXInitLib();
  if (status != GX_STATUS_SUCCESS)
  {
     return 0;
   }
   //æš ä¸¾ è®¾ å¤‡ åˆ— è¡¨
   status = GXUpdateDeviceList(&nDeviceNum, 1000);
   if ((status != GX_STATUS_SUCCESS) || (nDeviceNum <= 0))
   {
     return 0;
   }
   //æ‰“ å¼€ è®¾ å¤‡
   status = GXOpenDeviceByIndex(1, &hDevice);
   if (status == GX_STATUS_SUCCESS)
   {
   //å®š ä¹‰ GXDQBuf çš„ ä¼  å…¥ å‚ æ•°
    PGX_FRAME_BUFFER pFrameBuffer;
   //å¼€ é‡‡
   status = GXStreamOn(hDevice);
   if (status == GX_STATUS_SUCCESS)
   {
   //è°ƒ ç”¨ GXDQBuf å– ä¸€ å¸§ å›¾ åƒ
   status = GXDQBuf(hDevice, &pFrameBuffer, 1000);
   if (status == GX_STATUS_SUCCESS)
   {
   if (pFrameBuffer->nStatus == GX_FRAME_STATUS_SUCCESS)
   {
   //å›¾ åƒ è· å– æˆ åŠŸ
   //å¯¹ å›¾ åƒ è¿› è¡Œ å¤„ ç† ...
   }
   //è°ƒ ç”¨ GXQBuf å°† å›¾ åƒ buf æ”¾ å› åº“ ä¸­ ç»§ ç»­ é‡‡ å›¾
   status = GXQBuf(hDevice, pFrameBuffer);
   }
   }
   //åœ é‡‡
   status = GXStreamOff(hDevice);
   }
   status = GXCloseDevice(hDevice);
   status = GXCloseLib();
   return 0;
}
```

### 13.8 å›è°ƒå›¾åƒé‡‡é›†

â¢
å›¾åƒå¤„ç†å›è°ƒå‡½æ•°â€”â€”ç”¨æˆ·ç¼–å†™çš„å›¾åƒå¤„ç†å‡½æ•°ï¼Œ==GxIAPI è§„å®šäº†å‡½æ•°çš„è¿”å›å€¼ã€å½¢å‚ç­‰å†…å®¹==ï¼ˆè§ GxIAPIåº“è¯´æ˜->ç±»å‹->å›è°ƒå‡½æ•°ç±»å‹->GXCaptureCallBackï¼‰ã€‚
â¢
æ³¨å†Œå›è°ƒå‡½æ•°â€”â€”ç”¨æˆ·==è°ƒç”¨ GxRegisterCaptureCallback æ¥å£å°†ç”¨æˆ·ç¼–å†™çš„å›¾åƒå¤„ç†å›è°ƒå‡½æ•°æŒ‡é’ˆä¼ ç»™ GxIAPI åº“==ï¼ˆè§ GxRegisterCaptureCallback æ¥å£çš„è¯¦ç»†ç”¨æ³•ï¼‰ã€‚
â¢
æ³¨é”€å›è°ƒå‡½æ•°â€”â€”ç”¨æˆ·==è°ƒç”¨ GxUnregisterCaptureCallback æ¥å£é€šçŸ¥ GxIAPI åº“é‡Šæ”¾æ‰ç”¨æˆ·æ³¨å†Œçš„å›è°ƒå‡½æ•°æŒ‡é’ˆ==ã€‚

```c++
#include"GxIAPI.h"
//å›¾ åƒ å› è°ƒ å¤„ ç† å‡½ æ•°
static void GX_STDC OnFrameCallbackFun(GX_FRAME_CALLBACK_PARAM* pFrame)
{ 
  if (pFrame->status == GX_FRAME_STATUS_SUCCESS)
  {
  //å¯¹ å›¾ åƒ è¿› è¡Œ æŸ äº› æ“ ä½œ
  }
  return;
}
  int main(int argc, char* argv[])
{
  GX_STATUS status = GX_STATUS_SUCCESS;
  GX_DEV_HANDLE hDevice = NULL;
  GX_OPEN_PARAM  stOpenParam;
  uint32_tn DeviceNum = 0;
  //åˆ å§‹ åŒ– åº“
  status = GXInitLib();
  if (status!= GX_STATUS_SUCCESS)
  {
    return 0;
  }
  //æš ä¸¾ è®¾ å¤‡ åˆ— è¡¨
  status = GXUpdateDeviceList(&nDeviceNum, 1000);
  if ((status!= GX_STATUS_SUCCESS)||(nDeviceNum<= 0))
  {
     return 0;
  }
  //æ‰“ å¼€ è®¾ å¤‡
  stOpenParam.accessMode = GX_ACCESS_EXCLUSIVE;
  stOpenParam.openMode = GX_OPEN_INDEX;
  stOpenParam.pszContent = "1";
  status = GXOpenDevice(&stOpenParam, &hDevice);
  if (status == GX_STATUS_SUCCESS)
  {
  //æ³¨ å†Œ å›¾ åƒ å¤„ ç† å› è°ƒ å‡½ æ•°
  status = GXRegisterCaptureCallback(hDevice, NULL,OnFrameCallbackFun);
  //å‘ é€ å¼€ é‡‡ å‘½ ä»¤
  status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_START);
  //---------------------
  //
  //åœ¨ è¿™ ä¸ª åŒº é—´ å›¾ åƒ ä¼š é€š è¿‡ OnFrameCallbackFun æ¥ å£ è¿” ç»™ ç”¨ æˆ·
  //
  //---------------------
  //å‘ é€ åœ é‡‡ å‘½ ä»¤
  status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_STOP);
  //æ³¨ é”€ é‡‡ é›† å› è°ƒ
  status = GXUnregisterCaptureCallback(hDevice);
  }
  status = GXCloseDevice(hDevice);
  status = GXCloseLib();
  return 0;
}
```

å¦å¤–ç”¨æˆ·è¿˜å¯ä»¥==é€šè¿‡ GxGetImage æ¥å£æ¥è·å–å›¾åƒ==ï¼Œä½†æ˜¯æ­¤è·å–å›¾åƒçš„æ–¹å¼ä¸èƒ½ä¸å›è°ƒå–å›¾åŒæ—¶ä½¿ç”¨.



## 14. ç›¸æœºåŠŸèƒ½å±æ€§è¯´æ˜

### 14.1  è®¾å¤‡æ§åˆ¶

#### 14.1.1 è®¾å¤‡ä¿¡æ¯

#####14.1.1.1 åªè¯»ä¿¡æ¯

æ‰“å¼€è®¾å¤‡ä¹‹åå¯ä»¥ä½¿ç”¨==è®¾å¤‡å¥æŸ„==è·å–è®¾å¤‡ä¿¡æ¯ã€‚

GX_STRING_DEVICE_VENDOR_NAMEï¼š            å‚å•†åç§°
GX_STRING_DEVICE_MODEL_NAMEï¼š              è®¾å¤‡å‹å·
GX_STRING_DEVICE_FIRMWARE_VERSIONï¼š   è®¾å¤‡å›ºä»¶ç‰ˆæœ¬
GX_STRING_DEVICE_VERSIONï¼š                        è®¾å¤‡ç‰ˆæœ¬
GX_STRING_DEVICE_SERIAL_NUMBERï¼š          è®¾å¤‡åºåˆ—å·
GX_STRING_FACTORY_SETTING_VERSIONï¼š   å‡ºå‚å‚æ•°ç‰ˆæœ¬

```c++
//ä»¥ è· å– å‚ å•† å ç§° ä¸º ä¾‹ ï¼Œ ç¬¬ ä¸€ æ­¥ è· å– å­— ç¬¦ ä¸² é•¿ åº¦ ï¼Œ ç¬¬ äºŒ æ­¥ æŒ‰ ç…§ è· å– çš„ é•¿ åº¦ åˆ† é… buffer
//ç¬¬ ä¸‰ æ­¥ è· å– å­— ç¬¦ ä¸² å†… å®¹
GX_STATUS status = GX_STATUS_SUCCESS;
size_t nSize = 0;
//é¦– å…ˆ è· å– å­— ç¬¦ ä¸² å… è®¸ çš„ æœ€ å¤§ é•¿ åº¦(æ­¤ é•¿ åº¦ åŒ… å« ç»“ æŸ ç¬¦ â€™\0â€™)
status = GXGetStringMaxLength(hDevice, GX_STRING_DEVICE_VENDOR_NAME, &nSize);
//æ ¹ æ® è· å– çš„ é•¿ åº¦ ç”³ è¯· å†… å­˜
char *pszText = new char[nSize];
status = GXGetString(hDevice, GX_STRING_DEVICE_VENDOR_NAME, pszText, &nSize);
```

##### 14.1.1.2  å¯è¯»å¯å†™ä¿¡æ¯

GX_STRING_DEVICE_USERIDï¼š                          ç”¨æˆ·è‡ªå®šä¹‰åç§°

```c++
//ä»¥ è· å– ç”¨ æˆ· æ ‡ è¯† ä¸º ä¾‹ ï¼Œ ç¬¬ ä¸€ æ­¥ è· å– å­— ç¬¦ ä¸² é•¿ åº¦ ï¼Œ ç¬¬ äºŒ æ­¥ æŒ‰ ç…§ è· å– çš„ é•¿ åº¦ åˆ† é… buffer
//ç¬¬ ä¸‰ æ­¥ è· å– å­— ç¬¦ ä¸² å†… å®¹
GX_STATUS status = GX_STATUS_SUCCESS;
size_t nSize = 0;
//é¦– å…ˆ è· å– å­— ç¬¦ ä¸² å… è®¸ çš„ æœ€ å¤§ é•¿ åº¦(æ­¤ é•¿ åº¦ åŒ… å« ç»“ æŸ ç¬¦ â€™\0â€™)
status = GXGetStringMaxLength(hDevice, GX_STRING_DEVICE_USERID, &nSize);
//æ ¹ æ® è· å– çš„ é•¿ åº¦ ç”³ è¯· å†… å­˜
char *pszText = newchar[nSize];
status = GXGetString(hDevice, GX_STRING_DEVICE_USERID, pszText, &nSize);
//è®¾ ç½® ç”¨ æˆ· è‡ª å®š ä¹‰ å ç§°
status = GXSetString(hDevice, GX_STRING_DEVICE_USERID, "TestUserID");
```

#### 14.1.2 è®¾å¤‡æ§åˆ¶

è®¾å¤‡å¤ä½ï¼š==è¿˜åŸè®¾å¤‡æ‰“å¼€çŠ¶æ€ä¸ºåˆå§‹çŠ¶æ€ï¼ŒåŒè®¾å¤‡é‡æ–°ä¸Šç”µçš„çŠ¶æ€ã€‚==è°ƒç”¨å®Œæˆåï¼Œä¸»æœºç«¯å°†å¤±å»ä¸å½“å‰è®¾å¤‡çš„è¿æ¥ã€‚å¹¶ä¸”ç”±äºæ˜¯åœ¨è®¾å¤‡æ‰“å¼€çŠ¶æ€ä¸‹æ‰èƒ½è®¾ç½®è¯¥æ¥å£ï¼Œå› æ­¤==è°ƒç”¨å®Œæˆä¹‹åï¼Œéœ€è¦å¼€å‘äººå‘˜ä¸»åŠ¨è°ƒç”¨ GXCloseDevice æ¥å£å…³é—­è®¾å¤‡ï¼Œä»¥é‡Šæ”¾ç›¸åº”çš„å†…å­˜èµ„æº==ã€‚
æ—¶é—´æˆ³é¢‘ç‡ï¼šåªè¯»ä¿¡æ¯ï¼Œå®ƒè¡¨ç¤ºæ—¶é—´æˆ³è®¡æ•°çš„é¢‘ç‡ï¼Œå…¶å€¼ä¸º 125000000Hzã€‚
æ—¶é—´æˆ³é”å­˜ï¼š==é”å–å½“å‰çš„æ—¶é—´æˆ³å€¼==ï¼Œå³ä»è®¾å¤‡å¼€å§‹ä¸Šç”µåˆ°æ—¶é—´æˆ³é”å­˜å‘½ä»¤è°ƒç”¨æ—¶ç»å†çš„æ—¶é—´å€¼ï¼Œè¯¥æ—¶é—´å€¼éœ€è¦é€šè¿‡â€œæ—¶é—´æˆ³é”å­˜å€¼â€æ¥è¯»å–ã€‚
é‡ç½®æ—¶é—´æˆ³ï¼šå¤ä½æ—¶é—´æˆ³è®¡æ•°å™¨ï¼Œä» 0 å¼€å§‹é‡æ–°è®¡æ•°ã€‚
é‡ç½®æ—¶é—´æˆ³é”å­˜ï¼šå…ˆé”å–å½“å‰çš„æ—¶é—´æˆ³å€¼ï¼Œç„¶åå¤ä½æ—¶é—´æˆ³è®¡æ•°å™¨ï¼Œä» 0 å¼€å§‹é‡æ–°è®¡æ•°ã€‚

**ç›¸å…³å‚æ•°**
GX_COMMAND_DEVICE_RESETï¼š                        è®¾å¤‡å¤ä½
GX_INT_TIMESTAMP_TICK_FREQUENCYï¼š         æ—¶é—´æˆ³é¢‘ç‡
GX_COMMAND_TIMESTAMP_LATCHï¼š              æ—¶é—´æˆ³é”å­˜
GX_COMMAND_TIMESTAMP_RESETï¼š               é‡ç½®æ—¶é—´æˆ³
GX_COMMAND_TIMESTAMP_LATCH_RESETï¼š é‡ç½®æ—¶é—´æˆ³é”å­˜
GX_INT_TIMESTAMP_LATCH_VALUEï¼š               æ—¶é—´æˆ³é”å­˜å€¼

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//å‘ é€ é‡ ç½® æ—¶ é—´ æˆ³ å‘½ ä»¤
emStatus = GXSendCommand(hDevice, GX_COMMAND_TIMESTAMP_RESET);
//å‘ é€ è®¾ å¤‡ å¤ ä½ å‘½ ä»¤
emStatus = GXSendCommand(hDevice, GX_COMMAND_DEVICE_RESET);
```

###14.2 å›¾åƒæ ¼å¼

#### 14.2.1 æ„Ÿå…´è¶£åŒºåŸŸ

**åè¯è§£é‡Š**
ROIï¼šæ„Ÿå…´è¶£åŒºåŸŸï¼ˆregion of interestï¼‰ï¼Œç›¸å¯¹äºç›¸æœºä¼ æ„Ÿå™¨çš„ä¸€ä¸ªå¯é…ç½®çš„çŸ©å½¢é€‰æ‹©åŒºåŸŸï¼Œç›¸æœºåªè¾“å‡ºè¢«é€‰æ‹©åŒºåŸŸçš„æ•°æ®ï¼Œåœ¨çŸ©å½¢æ¡†é€‰æ‹©èŒƒå›´ä¹‹å¤–çš„æ•°æ®å°†è¢«å¿½ç•¥ã€‚

**ç›¸å…³å‚æ•°**
GX_INT_SENSOR_WIDTHï¼š         ä¼ æ„Ÿå™¨å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_SENSOR_HEIGHTï¼š       ä¼ æ„Ÿå™¨é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_WIDTH_MAXï¼š               å›¾åƒæœ€å¤§å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_HEIGHT_MAX ï¼š             å›¾åƒæœ€å¤§é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_WIDTHï¼š                         æ„Ÿå…´è¶£åŒºåŸŸçš„å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_HEIGHTï¼š                        æ„Ÿå…´è¶£åŒºåŸŸçš„é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_OFFSET_Xï¼š                    ç›¸å¯¹äº sensor å·¦ä¸Šè§’çš„ x æ–¹å‘åç§»é‡ï¼Œä»¥åƒç´ ä¸ºå•ä½
GX_INT_OFFSET_Yï¼š                     ç›¸å¯¹äº sensor å·¦ä¸Šè§’çš„ y æ–¹å‘åç§»é‡ï¼Œä»¥åƒç´ ä¸ºå•ä½

```c++
//è®¾ ç½® ä¸€ ä¸ª offset å ç§» ä¸º ï¼ˆ0,0ï¼‰ ï¼Œ600x400 å°º å¯¸ çš„ åŒº åŸŸ
GX_STATUS status = GX_STATUS_SUCCESS;
int64_t nWidth= 600;
int64_t nHeight= 400;
int64_t nOffsetX = 0;
int64_t nOffsetY = 0;
status = GXSetInt(hDevice, GX_INT_WIDTH, nWidth);
status = GXSetInt(hDevice, GX_INT_HEIGHT, nHeight);
status = GXSetInt(hDevice, GX_INT_OFFSET_X, nOffsetX);
status = GXSetInt(hDevice, GX_INT_OFFSET_Y, nOffsetY);
```

**æ³¨æ„äº‹é¡¹**

1) æœ‰ä¸¤å¯¹å±æ€§ä¼šå½±å“åˆ° ROI çš„æœ€å¤§å°ºå¯¸ï¼š
GX_INT_SENSOR_WIDTH
GX_INT_SENSOR_HEIGHT
å†³å®šå›¾åƒä¼ æ„Ÿå™¨çš„æœ‰æ•ˆåˆ†è¾¨ç‡ï¼Œå†³å®šäº†å¯ç”¨çš„åƒç´ ç‚¹çš„ä¸ªæ•°ï¼Œå®ƒçš„å€¼æ˜¯å›ºå®šçš„ã€‚åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼ˆæ²¡æœ‰binningï¼Œæ²¡æœ‰ decimationï¼Œæ²¡æœ‰ ROIï¼‰ï¼Œå›¾åƒçš„å¤§å°ç­‰äº sensor _width X sensor_ heightã€‚

â€‹       GX_INT_WIDTH_MAX
â€‹       GX_INT_HEIGHT_MAX
â€‹       è¿™ä¸¤ä¸ªå€¼å†³å®šäº† ROI å½“å‰å¯ç”¨çš„æœ€å¤§å°ºå¯¸ï¼ŒROI çš„å®½çš„æœ€å¤§å€¼å¯èƒ½è¢« binning æˆ–è€… decimation å½±å“ã€‚
â€‹       åœ¨é»˜è®¤æ¨¡å¼ä¸‹
â€‹    ï¼ˆæ²¡æœ‰ binningï¼Œæ²¡æœ‰ decimationï¼‰ï¼Œ width_max X height_max = sensor_ width X sensor_ heightã€‚

2) ä¸ºäº†ä¿è¯ ROI çš„æœ‰æ•ˆæ€§ï¼ŒROI çš„å››ä¸ªå±æ€§ä¹‹é—´éœ€è¦éµå®ˆå…³ç³»å…¬å¼ï¼Œå¦‚ä¸‹ï¼š
OffsetX + Width <= WidthMax(å½“å‰å›¾åƒçš„æœ€å¤§å®½)
OffsetY+Height<=HeightMax(å½“å‰å›¾åƒçš„æœ€å¤§é«˜)
ä¸Šé¢ä¸¤ä¸ªå…¬å¼è¯´æ˜äº†å››ä¸ªå±æ€§çš„æœ€å¤§å€¼æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ¯”å¦‚è°ƒæ•´ Width çš„å€¼ï¼Œä¼šå½±å“ OffsetX çš„å¯è°ƒæœ€å¤§å€¼ï¼Œè¿™ç§è”åŠ¨å…³ç³» GxIAPI å†…éƒ¨å·²ç»å®ç°ã€‚

####14.2.2 å›¾åƒåˆ†è¾¨ç‡

**åè¯è§£é‡Š**
Binning å’Œ Decimation æ˜¯==ç›´æ¥ä½œç”¨äºç›¸æœºä¼ æ„Ÿå™¨å†…éƒ¨ï¼Œåœ¨ç›¸æœºå‡ºå›¾ä¹‹å‰è¿›è¡Œçš„äºŒæ¬¡æŠ½æ ·å¤„ç†æ“ä½œ==ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½==é€šè¿‡ä¿®æ”¹æ°´å¹³æˆ–è€…å‚ç›´æ–¹å‘çš„åˆ†è¾¨ç‡è¾¾åˆ°æé«˜å¸§ç‡çš„æ•ˆæœ==ï¼Œå®ƒå’Œ ROI çš„å·®åˆ«æ˜¯ï¼Œ==ROI æ˜¯å¯¹è§†é‡è¿›è¡Œè£å‰ªï¼Œè€Œ Binning å’Œ Decimation åˆ™æ˜¯å¯¹æ•´ä¸ªå›¾åƒæŠ½è¡Œæˆ–è€…åˆå¹¶å¤„ç†ï¼Œå¹¶ä¸å½±å“è¿™ä¸ªè§†é‡çš„èŒƒå›´==ã€‚
â¢ Binningï¼šå®ƒæ˜¯ä¸€ç§å›¾åƒè¾“å‡ºæ¨¡å¼ï¼Œåˆ†ä¸ºæ°´å¹³åƒç´  Binning å’Œå‚ç›´åƒç´  Binningã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„åˆå¹¶æ¨¡å¼å°†ç›¸é‚»åƒå…ƒçš„ç”µè·ç›¸åŠ ï¼ˆSumï¼‰ï¼Œæˆ–è€…å–ç›¸é‚»åƒå…ƒç”µè·çš„å¹³å‡å€¼ï¼ˆAverageï¼‰ï¼Œä»¥ä¸€ä¸ªåƒç´ çš„æ¨¡å¼è¿›è¡Œè¾“å‡ºã€‚ä½¿ç”¨ Binning ä¼˜ç‚¹æ˜¯èƒ½å°†å‡ ä¸ªåƒç´ è”åˆèµ·æ¥ä½œä¸ºä¸€ä¸ªåƒç´ ä½¿ç”¨ï¼Œæé«˜çµæ•åº¦ï¼Œè¾“å‡ºé€Ÿåº¦ï¼Œé™ä½åˆ†è¾¨ç‡ï¼Œå½“è¡Œå’Œåˆ—åŒæ—¶é‡‡ç”¨ Binning æ—¶ï¼Œå›¾åƒçš„çºµæ¨ªæ¯”å¹¶ä¸æ”¹å˜ï¼Œå½“é‡‡ç”¨ 2:2 Binningï¼Œå›¾åƒçš„è§£æåº¦å°†å‡å°‘ 75%ã€‚
â¢ Decimationï¼šåƒå…ƒè·³è·ƒå¼è¾“å‡ºï¼ŒæŒ‘é€‰ç¬¬ N ä¸ªï¼ˆæ°´å¹³æˆ–è€…å‚ç›´ï¼‰åƒå…ƒè¿›è¡Œè¾“å‡ºï¼Œå…¶ä»–çš„åƒå…ƒå‡å¿½ç•¥ã€‚
**ç›¸å…³å‚æ•°**
GX_INT_BINNING_HORIZONTALï¼š                                 æ°´å¹³åƒç´  Binning
GX_INT_BINNING_VERTICALï¼š                                        å‚ç›´åƒç´  Binning
GX_INT_DECIMATION_HORIZONTALï¼š                          æ°´å¹³æŠ½å–å‚æ•°
GX_INT_DECIMATION_VERTICALï¼š                                 å‚ç›´æŠ½å–å‚æ•°
GX_ENUM_BINNING_HORIZONTAL_MODEï¼š               æ°´å¹³åƒç´  Binning æ¨¡å¼ï¼Œ
                                                                                              æšä¸¾å€¼å‚è€ƒ GX_BINNING_HORIZONTAL_MODE_ENTRY
GX_ENUM_BINNING_VERTICAL_MODEï¼š                       å‚ç›´åƒç´  Binning æ¨¡å¼ï¼Œ
                                                                                               æšä¸¾å€¼å‚è€ƒ GX_BINNING_VERTICAL_MODE_ENTRY

```c++
//é… ç½® ä¸€ ä¸ª 2x2 çš„ Binning å’Œ 2x2 çš„ Decimation
GX_STATUS status = GX_STATUS_SUCCESS;
int64_t nBinningH = 2;
int64_t nBinningV = 2;
int64_t nDecimationH= 2;
int64_t nDecimationV= 2;
//è®¾ ç½® æ°´ å¹³ å’Œ å‚ ç›´ Binning æ¨¡ å¼ ä¸º Sum æ¨¡ å¼
status = GXSetEnum(hDevice,GX_ENUM_BINNING_HORIZONTAL_MODE,
GX_BINNING_HORIZONTAL_MODE_SUM);
status = GXSetEnum(hDevice,GX_ENUM_BINNING_VERTICAL_MODE,GX_BINNING_VERTICAL_MODE_SUM);
status = GXSetInt(hDevice, GX_INT_BINNING_HORIZONTAL, nBinningH);
status = GXSetInt(hDevice, GX_INT_BINNING_VERTICAL, nBinningV);
status = GXSetInt(hDevice, GX_INT_DECIMATION_HORIZONTAL, nDecimationH);
status = GXSetInt(hDevice, GX_INT_DECIMATION_VERTICAL, nDecimationV);
```

### 14.3  æ•°æ®æ ¼å¼

**åè¯è§£é‡Š**
â¢ æ•°æ®ä½æ·±ï¼š==æ¯ä¸€ä¸ªåƒå…ƒç°åº¦å€¼æ‰€å çš„æ•°æ®ä½æ•°==ï¼Œä¾‹å¦‚ 8 ä½æ•°æ®è¡¨ç¤ºçš„ç°åº¦å€¼èŒƒå›´æ˜¯ 0~255ã€‚RAW æ•°æ®æ ¼å¼æ˜¯ CMOS æˆ–è€… CCD å›¾åƒä¼ æ„Ÿå™¨å°†æ•æ‰çš„å…‰ä¿¡å·è½¬åŒ–ä¸ºæ•°å­—ä¿¡å·çš„åŸå§‹æ•°æ®æ ¼å¼ï¼Œè¿™ç§è½¬æ¢æ²¡æœ‰ç»è¿‡ä»»ä½•å‹ç¼©ã€‚RAW8 è¡¨ç¤ºè¾“å‡ºå›¾åƒæ•°æ®ä½æ·±ä¸º 8bitï¼ŒRAW12 è¡¨ç¤ºè¾“å‡ºçš„å›¾åƒæ•°æ®ä½æ·±ä¸º 12bitã€‚
â¢ Bayer é¢œè‰²è½¬æ¢ï¼š==Bayer ç±»å‹æ˜¯ RAW å›¾åƒæ•°æ®çš„æ’åˆ—æ ¼å¼ï¼Œå›¾åƒæ•°æ®è¿›è¡Œå¤„ç†æˆ–è€…æ˜¾ç¤ºæ—¶ï¼Œéœ€è¦å°†å…¶é€šè¿‡æ’å€¼è½¬æ¢ä¸º 24 ä½çš„ RGB çœŸå½©è‰²å›¾åƒæ•°æ®ã€‚==ä¸‹é¢ä»‹ç»äº†ä¸€ç§ç®€å•çš„æ’å€¼ç®—æ³•ï¼š

**ç›¸å…³å‚æ•°**
GX_ENUM_PIXEL_SIZEï¼š                                     æ•°æ®ä½æ·±ï¼Œæšä¸¾å€¼å‚è€ƒ GX_PIXEL_SIZE_ENTRY
GX_ENUM_PIXEL_COLOR_FILTERï¼š                  Bayer æ ¼å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_PIXEL_COLOR_FILTER_ENTRY
GX_ENUM_PIXEL_FORMATï¼š                             æ•°æ®æ ¼å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_PIXEL_FORMAT_ENTRY
æ•°æ®æ ¼å¼ï¼šPixelFormat å…± 8Byteï¼Œ32bitã€‚      å°†å¤šç§ä¿¡æ¯é›†ä¸­åˆ°ä¸€èµ·ç»„æˆä¸€ä¸ªå•ç‹¬çš„ä¿¡æ¯é‡ã€‚æœ€é«˜ä¸¤ä¸ªå­—èŠ‚ä»£è¡¨                      äº†è‰²å½©æ ·å¼ï¼ˆå½©è‰²æˆ–è€…é»‘ç™½ï¼‰ï¼Œç´§æ¥ç€çš„ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºæ•°æ®ä½æ·±ï¼ˆ8 ä½ã€10 ä½ç­‰ï¼‰ï¼Œæœ€ä½ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºç¼–ç åºå·ï¼ˆå‚è€ƒ GX_PIXEL_FORMAT_ENTRYï¼‰ã€‚

```c++
//ä½¿ ç”¨ GXGetEnumEntryNumsã€GXGetEnumDescription ä¸¤ ä¸ª æ¥ å£
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ çš„ GX_ENUM_PIXEL_FORMAT ç±» å‹
//å‚ è€ƒ ç›¸ å…³ æ¥ å£ è¯´ æ˜ éƒ¨ åˆ† ï¼Œ æ­¤ å¤„ çœ ç•¥
GX_STATUS status = GX_STATUS_SUCCESS;
//è¯» å– å½“ å‰ pixelformat
int64_t nPixelFormat = 0;
status = GXGetEnum(hDevice, GX_ENUM_PIXEL_FORMAT, &nPixelFormat);
//è®¾ ç½® pixelformat ä¸º bayer æ ¼ å¼ ä¸º BG çš„ ä½ æ·± æ•° æ®
nPixelFormat = GX_PIXEL_FORMAT_BAYER_BG10;
status = GXSetEnum(hDevice, GX_ENUM_PIXEL_FORMAT, nPixelFormat);
//è¯» å– å½“ å‰ pixelsize
int64_t nPixelSize = 0;
status = GXGetEnum(hDevice, GX_ENUM_PIXEL_SIZE, &nPixelSize);
//è¯» å– å½“ å‰ colorfilter
int64_t nColorFilter = 0;
status = GXGetEnum(hDevice, GX_ENUM_PIXEL_COLOR_FILTER, &nColorFilter);
```

### 14.4 å¸§ä¿¡æ¯æ§åˆ¶

**åè¯è§£é‡Š**
å½“å¼€å¯å¸§ä¿¡æ¯åï¼Œå¸§ä¿¡æ¯ä¼šä»¥å¦‚ä¸‹æ ¼å¼==è¿½åŠ åˆ°å›¾åƒæ•°æ®çš„å°¾éƒ¨==ï¼Œç”¨æ¥æ ‡è¯†å½“å‰å›¾åƒçš„ä¿¡æ¯ã€‚

**ç›¸å…³å‚æ•°**
GX_BOOL_CHUNKMODE_ACTIVEï¼š        å¸§ä¿¡æ¯ä½¿èƒ½
GX_ENUM_CHUNK_SELECTORï¼š             å¸§ä¿¡æ¯é¡¹é€‰æ‹©
GX_BOOL_CHUNK_ENABLEï¼š                  å•é¡¹å¸§ä¿¡æ¯ä½¿èƒ½

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è®¾ ç½® å¸§ ä¿¡ æ¯ æ¨¡ å¼ ä¸º ä½¿ èƒ½ çŠ¶ æ€
status = GXSetBool(hDevice, GX_BOOL_CHUNKMODE_ACTIVE, true);
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ å“ª äº› å¸§ ä¿¡ æ¯,è¯· å‚ è§ GXGetEnumDescription æ¥ å£ çš„ ç”¨ æ³•
//æœ¬ æ · ä¾‹ å‡ è®¾ å½“ å‰ ç›¸ æœº æ”¯ æŒ æ‰€ æœ‰ ç±» å‹ çš„ å¸§ ä¿¡ æ¯
//é€‰ æ‹© å¸§ å·
status = GXSetEnum(hDevice, GX_ENUM_CHUNK_SELECTOR,GX_CHUNK_SELECTOR_CHUNK_FRAME_ID);
//è®¾ ç½® å¸§ å· ä¸º ä½¿ èƒ½ çŠ¶ æ€
status = GXSetBool(hDevice, GX_BOOL_CHUNK_ENABLE, true);
```

**æ³¨æ„äº‹é¡¹**
C è½¯ä»¶æ¥å£å¼€æ”¾äº†å¸§ä¿¡æ¯çš„æ§åˆ¶æ¥å£ï¼Œä½†æ˜¯å¼€æ”¾æ²¡æœ‰è·å–å¸§ä¿¡æ¯çš„æ¥å£ï¼Œå¦‚æœç”¨æˆ·éœ€è¦è§£æå¸§ä¿¡æ¯ï¼Œéœ€è¦æŒ‰ç…§ä¸Šå›¾ä¸­çš„æ ¼å¼ï¼Œä»å›¾åƒæ•°æ®çš„å°¾éƒ¨å¼€å§‹è§£æï¼Œå…·ä½“è§£ææ–¹æ³•å’Œå„ç›¸æœºçš„å¸§ä¿¡æ¯æ’åˆ—é¡ºåºï¼Œè¯·å’¨è¯¢æŠ€æœ¯æ”¯æŒã€‚



## 15. æ§åˆ¶

###15.1 é‡‡é›†

**åè¯è§£é‡Š**
â¢ é‡‡é›†æ¨¡å¼ï¼šè®¾ç½®==ç›¸æœºçš„å‡ºå›¾æ¨¡å¼==ï¼Œå®ƒä¸»è¦å®šä¹‰äº†ç›¸æœºåœ¨ä¸€ä¸ªå®Œæ•´çš„é‡‡é›†è¿‡ç¨‹ä¸­å‡ºå›¾çš„ä¸ªæ•°ã€‚æ‰€è°“ä¸€ä¸ªå®Œæ•´çš„é‡‡é›†è¿‡ç¨‹æŒ‡çš„æ˜¯ä»å‘é€å¼€é‡‡å‘½ä»¤å¼€å§‹åˆ°å‘é€åœé‡‡å‘½ä»¤ç»“æŸã€‚
â¢ é‡‡å¤šå¸§å¸§æ•°ï¼šå½“é‡‡é›†æ¨¡å¼ä¸ºé‡‡å¤šå¸§æ¨¡å¼çš„æ—¶å€™ï¼Œè¿™ä¸ªå‚æ•°å†³å®šäº†æ­¤æ¨¡å¼ä¸‹ç›¸æœºåœ¨ä¸€ä¸ªå®Œæ•´çš„é‡‡é›†è¿‡ç¨‹ä¸­å‡ºå›¾çš„ä¸ªæ•°ã€‚
â¢ é‡‡é›†é€Ÿåº¦çº§åˆ«ï¼š==ç›´æ¥æ§åˆ¶ç›¸æœºå¸§ç‡==ã€‚é‡‡é›†é€Ÿåº¦çº§åˆ«è¶Šå¤§ï¼Œå¸§ç‡è¶Šå¤§ï¼›é‡‡é›†é€Ÿåº¦çº§åˆ«è¶Šå°ï¼Œå¸§ç‡è¶Šå°ã€‚
â¢ é«˜é€Ÿè¿æ‹å¸§æ•°ï¼šä¸€æ¬¡è§¦å‘é‡‡é›†å¤šå¸§å›¾åƒã€‚ä¾‹å¦‚ï¼Œå¦‚æœâ€œé«˜é€Ÿè¿æ‹å¸§æ•°â€å‚æ•°è®¾ç½®ä¸º 3ï¼Œåˆ™ç›¸æœºä¼šåœ¨ä¸€ä¸ªå¸§é«˜é€Ÿè¿æ‹å¼€å§‹è§¦å‘ä¿¡å·åè‡ªåŠ¨è¾“å‡º 3 å¼ å›¾åƒã€‚
â¢ é‡‡ é›† çŠ¶ æ€ é€‰ æ‹© ï¼š é‡‡ é›† çŠ¶ æ€ æ˜¯ ==ç”¨ æ¥ ç¡® å®š ç›¸ æœº æ˜¯ å¦ åœ¨ ç­‰ å¾… è§¦ å‘ ä¿¡ å·== ã€‚ æœ‰ FrameTriggerWait å’ŒAcquisitionTriggerWait ä¸¤ç§æ¨¡å¼ã€‚FrameTriggerWaitï¼šé€‰æ‹©æ­¤çŠ¶æ€åï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢é‡‡é›†åŠŸèƒ½çŠ¶æ€ç¡®å®šç›¸æœºæ˜¯å¦æ­£åœ¨ç­‰å¾…å¸§èµ·å§‹è§¦å‘ä¿¡å·ï¼ŒAcquisitionTriggerWaitï¼šé€‰æ‹©æ­¤çŠ¶æ€åï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢é‡‡é›†çŠ¶æ€åŠŸèƒ½ç¡®å®šç›¸æœºæ˜¯å¦æ­£åœ¨ç­‰å¾…å¤šå¸§é‡‡é›†çŠ¶æ€ä¸‹çš„è§¦å‘ä¿¡å·ã€‚åŠŸèƒ½ä»…åœ¨è§¦å‘æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå¯¹è¿ç»­é‡‡é›†æ¨¡å¼æ— å½±å“ã€‚
â¢ é‡‡é›†çŠ¶æ€ï¼šè¯¥åŠŸèƒ½ç é…åˆé‡‡é›†çŠ¶æ€é€‰æ‹©åŠŸèƒ½ä½¿ç”¨ï¼Œå…·ä½“è¯·å‚è€ƒé‡‡é›†çŠ¶æ€é€‰æ‹©ã€‚åœ¨éé‡‡é›†æœŸé—´ï¼ˆå¼€å§‹é‡‡é›†å‰ï¼Œåœæ­¢é‡‡é›†ä¹‹åï¼‰ï¼Œéè§¦å‘æ¨¡å¼ä¸‹ï¼ŒæŸ¥è¯¢çš„å€¼æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚

**ç›¸å…³å‚æ•°**
GX_ENUM_ACQUISITION_MODEï¼š                         é‡‡é›†æ¨¡å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_ACQUISITION_MODE_ENTRY
GX_COMMAND_ACQUISITION_STARTï¼š                å¼€é‡‡å‘½ä»¤
GX_COMMAND_ACQUISITION_STOPï¼š                  åœé‡‡å‘½ä»¤
GX_INT_ACQUISITION_FRAME_COUNTï¼š               é‡‡å¤šå¸§å¸§æ•°
GX_INT_ACQUISITION_SPEED_LEVELï¼š                   é‡‡é›†é€Ÿåº¦çº§åˆ«
GX_INT_ACQUISITION_BURST_FRAME_COUNTï¼š  é«˜é€Ÿè¿æ‹å¸§æ•°
GX_ENUM_ACQUISITION_STATUS_SELECTORï¼š    é‡‡é›†çŠ¶æ€é€‰æ‹©ï¼Œå‚è€ƒ
                                                                                          GX_ACQUISITION_STATUS_SELECTOR_ENTRY
GX_BOOL_ACQUISITION_STATUSï¼šé‡‡é›†çŠ¶æ€

**æ§åˆ¶æµç¨‹**

é‡‡é›†æ¨¡å¼åˆ†ä¸ºï¼š   è¿ç»­æ¨¡å¼  ï¼Œ  å¤šå¸§æ¨¡å¼ ï¼Œ å•å¸§æ¨¡å¼

å¤šï¼ˆå•ï¼‰å¸§æ¨¡å¼ä¸‹ä¸éœ€è¦åœé‡‡å‘½ä»¤ã€‚

è§¦å‘æ¨¡å¼å¯é€‰  True    Flase

è§¦å‘æ¨¡å¼å°±æ˜¯è§¦å‘ä»¥ä¸‹åŠ¨ä¸€æ¬¡



![](/home/peter/å›¾ç‰‡/é‡‡é›†æµç¨‹1.png)

![](/home/peter/å›¾ç‰‡/é‡‡é›†æµç¨‹2.png)

![](/home/peter/å›¾ç‰‡/é‡‡é›†æµç¨‹3.png)

![](/home/peter/å›¾ç‰‡/é‡‡é›†æµç¨‹4.png)

![](/home/peter/å›¾ç‰‡/é‡‡é›†æµç¨‹5.png)



```c++
#include "GxIAPI.h"
//å›¾ åƒ å› è°ƒ å¤„ ç† å‡½ æ•°
static void GX_STDCOnFrameCallbackFun(GX_FRAME_CALLBACK_PARAM* pFrame)
{
  if (pFrame->status == 0)
  {
    //å¯¹ å›¾ åƒ è¿› è¡Œ æŸ äº› æ“ ä½œ
  }
  return;
}
//åˆå§‹åŒ–åº“ï¼Œæšä¸¾ç›¸æœºï¼Œæ‰“å¼€ç›¸æœºï¼Œè®¾ç½®é‡‡é›†æ¨¡å¼ï¼Œæ³¨å†Œå›è°ƒå‡½æ•°ï¼Œå‘é€å¼€é‡‡å‘½ä»¤ï¼Œå‘é€åœé‡‡å‘½ä»¤ï¼Œæ³¨é”€å›è°ƒå‡½æ•°ï¼Œå…³é—­ç›¸æœºï¼Œååˆå§‹åŒ–åº“
int main(intargc, char* argv[])
{
  GX_STATUS status = GX_STATUS_SUCCESS;
  GX_DEV_HANDLE hDevice = NULL;
  GX_OPEN_PARAM stOpenParam;
  uint32_t nDeviceNum = 0;
  //åˆ å§‹ åŒ– åº“
  status = GXInitLib();
  if (status != GX_STATUS_SUCCESS)
  {
    return 0;
  }
  //æš ä¸¾ è®¾ å¤‡ åˆ— è¡¨
  status = GXUpdateDeviceList(&nDeviceNum, 1000);
  if ((status!= GX_STATUS_SUCCESS)||(nDeviceNum<= 0))
  {
    return 0;
  }
  //æ‰“ å¼€ è®¾ å¤‡
  stOpenParam.accessMode = GX_ACCESS_EXCLUSIVE;
  stOpenParam.openMode = GX_OPEN_INDEX;
  stOpenParam.pszContent = "1";
  status = GXOpenDevice(&stOpenParam, &hDevice);
  if (status == GX_STATUS_SUCCESS)
  {
  //è®¾ ç½® é‡‡ é›† æ¨¡ å¼ ã€‚ ä¸€ èˆ¬ ç›¸ æœº çš„ é»˜ è®¤ é‡‡ é›† æ¨¡ å¼ ä¸º è¿ ç»­ æ¨¡ å¼ ã€‚
  //int64_t nAcqMode = GX_ACQ_MODE_CONTINUOUS;
  //status = GXSetEnum(hDevice, GX_ENUM_ACQUISITION_MODE, nAcqMode);
  //æ³¨ å†Œ å›¾ åƒ å¤„ ç† å› è°ƒ å‡½ æ•°
  status = GXRegisterCaptureCallback(hDevice, NULL, OnFrameCallbackFun);
  //å‘ é€ å¼€ é‡‡ å‘½ ä»¤
  status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_START);
  //---------------------
  //
  //åœ¨ è¿™ ä¸ª åŒº é—´ å›¾ åƒ ä¼š é€š è¿‡ OnFrameCallbackFun æ¥ å£ è¿” ç»™ ç”¨ æˆ·
  //
  //---------------------
  //å‘ é€ åœ é‡‡ å‘½ ä»¤ 
  status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_STOP);
  //æ³¨ é”€ é‡‡ é›† å› è°ƒ
  status = GXUnregisterCaptureCallback(hDevice);
  }
  status = GXCloseDevice(hDevice);
  status = GXCloseLib();
  return 0;
}    
```

### 15.2 è§¦å‘

**åè¯è§£é‡Š**
â¢ è§¦å‘æºï¼šé€‰æ‹©è§¦å‘ä¿¡å·çš„æ¥æºã€‚è½¯è§¦å‘æˆ–è€…å¤–è§¦å‘ã€‚
â¢ è§¦å‘æ¨¡å¼ï¼šå†³å®šè§¦å‘ä¿¡å·æ˜¯å¦æœ‰æ•ˆã€‚ON è¡¨ç¤ºè§¦å‘æœ‰æ•ˆï¼›OFF è¡¨ç¤ºè§¦å‘æ— æ•ˆã€‚
â¢ è§¦å‘ææ€§ï¼šè§¦å‘æ¿€æ´»æ–¹å¼ï¼Œåˆ†ä¸ºä¸Šå‡æ²¿æœ‰æ•ˆæˆ–è€…ä¸‹é™æ²¿æœ‰æ•ˆã€‚
â¢ è½¯è§¦å‘å‘½ä»¤ï¼šè½¯ä»¶æ¨¡æ‹Ÿè§¦å‘ä¿¡å·ã€‚

**ç›¸å…³å‚æ•°**

GX_ENUM_TRIGGER_MODEï¼š                        è§¦å‘æ¨¡å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_TRIGGER_MODE_ENTRY
GX_COMMAND_TRIGGER_SOFTWAREï¼š      è½¯è§¦å‘å‘½ä»¤
GX_ENUM_TRIGGER_ACTIVATIONï¼š             è§¦å‘ææ€§ï¼Œæšä¸¾å€¼å‚è€ƒ GX_TRIGGER_ACTIVATION_ENTRY
GX_ENUM_TRIGGER_SWITCHï¼š                     å¤–è§¦å‘å¼€å…³,å‚è€ƒ GX_TRIGGER_SWITCH_ENTRY
GX_ENUM_TRIGGER_SOURCEï¼š                    è§¦å‘æºï¼Œæšä¸¾å€¼å‚è€ƒ GX_TRIGGER_SOURCE_ENTRY
GX_ENUM_TRIGGER_SELECTORï¼š                è§¦å‘ç±»å‹é€‰æ‹©ï¼Œå‚è€ƒ GX_TRIGGER_SELECTOR_ENTRY
GX_FLOAT_TRIGGER_DELAYï¼š                       è§¦å‘å»¶è¿Ÿ

```c++
#include "GxIAPI.h"
//å›¾ åƒ å› è°ƒ å¤„ ç† å‡½ æ•°
static void GX_STDC OnFrameCallbackFun(GX_FRAME_CALLBACK_PARAM* pFrame)
{
  if (pFrame->status == 0)
  {
    //å¯¹ å›¾ åƒ è¿› è¡Œ æŸ äº› æ“ ä½œ
  }
  return;
}
int main(int argc, char* argv[])
{
    GX_STATUS status = GX_STATUS_SUCCESS;
    GX_DEV_HANDLE hDevice = NULL;
    GX_OPEN_PARAM stOpenParam;
    uint32_t nDeviceNum = 0;
    //åˆ å§‹ åŒ– åº“
    status = GXInitLib();
    if (status!= GX_STATUS_SUCCESS)
    {
      return 0;
    }
    //æš ä¸¾ è®¾ å¤‡ åˆ— è¡¨
    status = GXUpdateDeviceList(&nDeviceNum, 1000);
    if ((status!= GX_STATUS_SUCCESS)||(nDeviceNum<= 0))
    {
        return 0;
    }
    //æ‰“ å¼€ è®¾ å¤‡
    stOpenParam.accessMode = GX_ACCESS_EXCLUSIVE;
    stOpenParam.openMode = GX_OPEN_INDEX;
    stOpenParam.pszContent = "1";
    status = GXOpenDevice(&stOpenParam, &hDevice);
    if (status == GX_STATUS_SUCCESS)
    {
    //è®¾ ç½® è§¦ å‘ æ¨¡ å¼ ä¸º ON
    status =GXSetEnum(hDevice,GX_ENUM_TRIGGER_MODE, GX_TRIGGER_MODE_ON);
    //è®¾ ç½® è§¦ å‘ æ¿€ æ´» æ–¹ å¼ ä¸º ä¸Š å‡ æ²¿
    status = GXSetEnum(hDevice,GX_ENUM_TRIGGER_ACTIVATION,GX_TRIGGER_ACTIVATION_RISINGEDGE);
    //æ³¨ å†Œ å›¾ åƒ å¤„ ç† å› è°ƒ å‡½ æ•°
    status = GXRegisterCaptureCallback(hDevice, NULL, OnFrameCallbackFun);
    //å‘ é€ å¼€ é‡‡ å‘½ ä»¤
    status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_START);
    //---------------------
    //
    //åœ¨ å‘ é€ åœ é‡‡ å‘½ ä»¤ å‰ å¦‚ æœ äº§ ç”Ÿ äº† æœ‰ æ•ˆ è§¦ å‘ ï¼Œ é‚£ ä¹ˆ å›¾ åƒ
    //ä¼š é€š è¿‡ OnFrameCallbackFun æ¥ å£ è¿” ç»™ ç”¨ æˆ·
    //---------------------
    //å‘ é€ åœ é‡‡ å‘½ ä»¤
    status = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_STOP);
    //æ³¨ é”€ é‡‡ é›† å› è°ƒ
    status = GXUnregisterCaptureCallback(hDevice);
    }
    status = GXCloseDevice(hDevice);
    status = GXCloseLib();
    return 0;
}
```

### 15.3 é«˜çº§åŠŸèƒ½

**åè¯è§£é‡Š**
â¢ ä¸Šå‡æ²¿è§¦å‘æ»¤æ³¢å€¼ï¼šä¸Šå‡æ²¿è„‰å†²å®½åº¦å¦‚æœå°äºæ­¤æ»¤æ³¢å€¼ï¼Œé‚£ä¹ˆç›¸æœºå°†ä¸ä¼šå¤„ç†è¿™æ ·çš„è§¦å‘ä¿¡å·ã€‚åª
æœ‰å½“ä¸Šå‡æ²¿è„‰å†²å®½åº¦å¤§äºã€ç­‰äºæ­¤æ»¤æ³¢å€¼çš„æ—¶å€™ï¼Œæ‰ä¼šäº§ç”Ÿæœ‰æ•ˆè§¦å‘ä¿¡å·ã€‚
â¢ ä¸‹é™æ²¿è§¦å‘æ»¤æ³¢å€¼ï¼šä¸‹é™æ²¿è„‰å†²å®½åº¦å¦‚æœå°äºæ­¤æ»¤æ³¢å€¼ï¼Œé‚£ä¹ˆç›¸æœºå°†ä¸ä¼šå¤„ç†è¿™æ ·çš„è§¦å‘ä¿¡å·ã€‚åª
æœ‰å½“ä¸‹é™æ²¿è„‰å†²å®½åº¦å¤§äºã€ç­‰äºæ­¤æ»¤æ³¢å€¼çš„æ—¶å€™ï¼Œæ‰ä¼šäº§ç”Ÿæœ‰æ•ˆè§¦å‘ä¿¡å·ã€‚

**ç›¸å…³å‚æ•°**
GX_FLOAT_TRIGGER_FILTER_RAISINGï¼šä¸Šå‡æ²¿è§¦å‘æ»¤æ³¢å€¼
GX_FLOAT_TRIGGER_FILTER_FALLINGï¼šä¸‹é™æ²¿è§¦å‘æ»¤æ³¢å€¼

```c++
//è· å– ä¸Š å‡ æ²¿ æ»¤ æ³¢ è®¾ ç½® èŒƒ å›´
GX_FLOAT_RANGE raisingRange;
status = GXGetFloatRange(hDevice, GX_FLOAT_TRIGGER_FILTER_RAISING, &raisingRange);
//è®¾ ç½® ä¸Š å‡ æ²¿ æ»¤ æ³¢ æœ€ å° å€¼
status = GXSetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_RAISING,raisingRange.dMin);
//è®¾ ç½® ä¸Š å‡ æ²¿ æ»¤ æ³¢ æœ€ å¤§ å€¼
status = GXSetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_RAISING, raisingRange.dMax);
//è· å– å½“ å‰ ä¸Š å‡ æ²¿ æ»¤ æ³¢ å€¼
double dRaisingValue = 0;
status = GXGetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_RAISING, &dRaisingValue);
//è· å– ä¸‹ é™ æ²¿ æ»¤ æ³¢ è®¾ ç½® èŒƒ å›´
GX_FLOAT_RANGE fallingRange;
status = GXGetFloatRange(hDevice, GX_FLOAT_TRIGGER_FILTER_FALLING, &fallingRange);
//è®¾ ç½® ä¸‹ é™ æ²¿ æ»¤ æ³¢ æœ€ å° å€¼
status = GXSetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_FALLING, fallingRange.dMin);
//è®¾ ç½® ä¸‹ é™ æ²¿ æ»¤ æ³¢ æœ€ å¤§ å€¼
status = GXSetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_FALLING, fallingRange.dMax);
//è· å– å½“ å‰ ä¸‹ é™ æ²¿ æ»¤ æ³¢ å€¼
double dFallingValue = 0;
status = GXGetFloat(hDevice, GX_FLOAT_TRIGGER_FILTER_FALLING, &dFallingValue);
```

### 15.4 æ›å…‰

**åè¯è§£é‡Š**
æ›å…‰æ¨¡å¼ï¼šæ›å…‰çš„ä¸åŒå·¥ä½œæ–¹å¼ï¼ŒTimed æ¨¡å¼çš„æ—¶å€™ï¼Œæ‰å¯ä»¥ä½¿ç”¨ GX_FLOAT_EXPOSURE_TIMEã€
GX_ENUM_EXPOSURE_AUTOã€‚
æ›å…‰æ—¶é—´ï¼šæ›å…‰æ—¶é—´å³å¿«é—¨é€Ÿåº¦ï¼ŒæŒ‡çš„æ˜¯ä¼ æ„Ÿå™¨çš„å¿«é—¨ä»æ‰“å¼€åˆ°å…³é—­çš„æ—¶é—´é—´éš”ï¼Œåœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…è¢«æ‘„ç‰©ä½“å¯ä»¥åœ¨ä¼ æ„Ÿå™¨ä¸Šç•™ä¸‹å½±åƒã€‚å‡å°æ›å…‰æ—¶é—´å›¾åƒå˜æš—ï¼Œå¢å¤§æ›å…‰æ—¶é—´å›¾åƒå˜äº®ã€‚
æ›å…‰å»¶è¿Ÿï¼š==æ›å…‰å»¶è¿ŸåŠŸèƒ½å¯ä»¥æœ‰æ•ˆè§£å†³é—ªå…‰ç¯å»¶æ—¶é—®é¢˜==ã€‚ç»å¤§éƒ¨åˆ†é—ªå…‰ç¯ä»è§¦å‘åˆ°ç‚¹äº®è‡³å°‘æœ‰å‡ åå¾®ç§’ä»¥ä¸Šçš„å»¶æ—¶ï¼Œå½“ç›¸æœºå·¥ä½œåœ¨å°æ›å…‰æ¨¡å¼ä¸‹ï¼Œé—ªå…‰ç¯çš„è¡¥å…‰æ•ˆæœå°±ä¼šå—å½±å“ã€‚é€šè¿‡é—ªå…‰ç¯ä¿¡å·å’Œå®é™…æ›å…‰å¼€å§‹çš„å»¶æ—¶æ¥å®ç°æ›å…‰å»¶è¿Ÿã€‚

**ç›¸å…³å‚æ•°**
GX_ENUM_EXPOSURE_MODEï¼šæ›å…‰æ¨¡å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_EXPOSURE_MODE_ENTRY
GX_FLOAT_EXPOSURE_TIMEï¼šæ›å…‰æ—¶é—´
GX_ENUM_EXPOSURE_AUTOï¼šè‡ªåŠ¨æ›å…‰ä½¿èƒ½æ§åˆ¶ï¼Œæšä¸¾å€¼å‚è€ƒ GX_EXPOSURE_AUTO_ENTRY
GX_FLOAT_EXPOSURE_DELAYï¼šæ›å…‰å»¶è¿Ÿ

```c++
//è· å– æ› å…‰ è°ƒ èŠ‚ èŒƒ å›´
GX_FLOAT_RANGE shutterRange;
double dExposureValue = 2.0;
status = GXGetFloatRange(hDevice, GX_FLOAT_EXPOSURE_TIME, &shutterRange);
//è®¾ ç½® æœ€ å° æ› å…‰ å€¼
status = GXSetFloat(hDevice, GX_FLOAT_EXPOSURE_TIME, shutterRange.dMin);
//è®¾ ç½® æœ€ å¤§ æ› å…‰ å€¼
status = GXSetFloat(hDevice, GX_FLOAT_EXPOSURE_TIME, shutterRange.dMax);
//è®¾ ç½® è¿ ç»­ è‡ª åŠ¨ æ› å…‰
status = GXSetEnum(hDevice, GX_ENUM_EXPOSURE_AUTO, GX_EXPOSURE_AUTO_CONTINUOUS);
//è®¾ ç½® æ› å…‰ å»¶ è¿Ÿ ä¸º 2us
status = GXSetFloat(hDevice, GX_FLOAT_EXPOSURE_DELAY, dExposureValue);
```

æ³¨æ„äº‹é¡¹:å½“å¤–éƒ¨å…‰æºä¸ºè‡ªç„¶å…‰æˆ–è€…ç›´æµç”µå…‰æºæ—¶å¯¹æ›å…‰æ—¶é—´æ— ç‰¹æ®Šè¦æ±‚ï¼Œä½†æ˜¯å½“å¤–éƒ¨å…‰æºä¸ºäº¤æµç”µå…‰æºæ—¶ï¼Œ==æ›å…‰æ—¶é—´éœ€è¦ä¸å¤–éƒ¨å…‰æºçš„äº¤æµé¢‘ç‡åŒæ­¥==ï¼ˆ50Hz å…‰ç…§ç¯å¢ƒä¸‹ï¼Œæ›å…‰æ—¶é—´å¿…é¡»æ˜¯ 1/100s çš„æ•´å€æ•°ï¼Œ60Hz å…‰ç…§ç¯å¢ƒä¸‹ï¼Œæ›å…‰æ—¶é—´å¿…é¡»æ˜¯ 1/120s çš„æ•´å€æ•°ï¼‰ã€‚

### 15.5 ä¼ è¾“æ§åˆ¶

**åè¯è§£é‡Š**
å½“å¤šä¸ªç›¸æœºå’Œä¸»æœºé€šè¿‡äº¤æ¢æœºè¿æ¥æ—¶ï¼Œå¦‚æœåŒæ—¶è§¦å‘è¿™äº›ç›¸æœºé‡‡é›†å›¾åƒï¼Œåœ¨ä¼ è¾“å›¾åƒç”±äºäº¤æ¢æœºçš„ç¬æ—¶å¸¦å®½è¿‡å¤§ï¼Œå­˜å‚¨èƒ½åŠ›æœ‰é™ï¼Œä¼šå‡ºç°æ•°æ®ä¸¢å¤±é—®é¢˜ã€‚å› æ­¤éœ€è¦ä½¿ç”¨å¸§ä¼ è¾“å»¶è¿Ÿé¿å…è¯¥é—®é¢˜å‘ç”Ÿã€‚åœ¨è§¦å‘æ¨¡å¼ä¸‹ï¼Œé€šè¿‡è®¾ç½®ä¼ è¾“æ§åˆ¶æ¨¡å¼ä¸ºâ€œç”¨æˆ·æ§åˆ¶â€ï¼Œ==å½“ç›¸æœºæ¥åˆ°è½¯è§¦å‘å‘½ä»¤æˆ–è€…ç¡¬è§¦å‘ä¿¡å·å¹¶å®Œæˆå›¾åƒé‡‡é›†ä»¥åï¼Œå°†å›¾åƒä¿å­˜åœ¨ç›¸æœºå†…éƒ¨çš„å¸§å­˜ä¸­ï¼Œç­‰å¾…ä¸»æœºç«¯å‘é€â€œå¼€å§‹ä¼ è¾“â€å‘½ä»¤ä»¥åï¼Œç›¸æœºå°†é‡‡é›†åˆ°çš„å›¾åƒä¼ è¾“åˆ°ä¸»æœºç«¯ã€‚==ä¼ è¾“å»¶è¿Ÿæ—¶é—´ç”±ä¸»æœºç«¯å†³å®šã€‚åœ¨å¤šä¸ªç›¸æœºåŒæ—¶è§¦å‘çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ºæ¯å°ç›¸æœºè®¾ç½®ä¸åŒçš„ä¼ è¾“å»¶è¿Ÿæ—¶é—´ï¼Œä»¥é¿å…äº¤æ¢æœºçš„ç¬æ—¶å¸¦å®½è¿‡å¤§ã€‚

**ç›¸å…³å‚æ•°**
GX_ENUM_TRANSFER_CONTROL_MODEï¼šä¼ è¾“æ§åˆ¶æ¨¡å¼
GX_ENUM_TRANSFER_OPERATION_MODEï¼šä¼ è¾“æ“ä½œæ¨¡å¼
GX_COMMAND_TRANSFER_STARTï¼šå¼€å§‹ä¼ è¾“
GX_INT_TRANSFER_BLOCK_COUNTï¼šä¼ è¾“å¸§æ•°

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//å‰ æ å¿… é¡» ç¡® ä¿ è§¦ å‘ æ¨¡ å¼ ä¸º å¼€ å¯ çŠ¶ æ€
emStatus = GXSetEnum(hDevice, GX_ENUM_TRIGGER_MODE, GX_TRIGGER_MODE_ON);
//è®¾ ç½® ä¼  è¾“ æ§ åˆ¶ æ¨¡ å¼ ä¸º ç”¨ æˆ· æ§ åˆ¶ æ¨¡ å¼
emStatus = GXSetEnum(hDevice, GX_ENUM_TRANSFER_CONTROL_MODE,GX_ENUM_TRANSFER_CONTROL_MODE_USERCONTROLED);
//è®¾ ç½® ä¼  è¾“ æ“ ä½œ æ¨¡ å¼ ä¸º æŒ‡ å®š å‘ é€ å¸§ æ•°
emStatus = GXSetEnum(hDevice, GX_ENUM_TRANSFER_OPERATION_MODE,GX_ENUM_TRANSFER_OPERATION_MODE_MULTIBLOCK);
//è®¾ ç½® æ¯ æ¬¡ å‘½ ä»¤ è¾“ å‡º å¸§ æ•° å¸§
emStatus = GXSetInt(hDevice, GX_INT_TRANSFER_BLOCK_COUNT, 1);
//å¼€ é‡‡ ä¹‹ å å‘ é€ è½¯ è§¦ å‘ ä¿¡ å· ï¼ˆ æˆ– è€… å¤– è§¦ å‘ ï¼‰
emStatus = GXSendCommand(hDevice, GX_COMMAND_ACQUISITION_START);
emStatus = GXSendCommand(hDevice, GX_COMMAND_TRIGGER_SOFTWARE);
//è§¦ å‘ å‡º å›¾ ä¹‹ å å‘ é€ ä¼  è¾“ å‘½ ä»¤
emStatus = GXSendCommand(hDevice, GX_COMMAND_TRANSFER_START);
```

### 15.6å¸§å­˜æœºåˆ¶

**åè¯è§£é‡Š**
å¸§å­˜è¦†ç›–ï¼šå½“ç›¸æœºå‘å†…éƒ¨å¸§å­˜å†™å…¥æ•°æ®çš„å¹³å‡å¸¦å®½å¤§äºè¯»å‡ºæ•°æ®çš„å¹³å‡å¸¦å®½æ—¶ï¼Œä¼šå‡ºç°å¸§å­˜æ»¡çš„æƒ…å†µã€‚å¦‚æœå¸§å­˜æ»¡åç»§ç»­å†™å…¥å›¾åƒæ•°æ®ï¼Œå°†è¦†ç›–ä»¥å‰å¸§å­˜é‡Œçš„å›¾åƒæ•°æ®ã€‚
**ç›¸å…³å‚æ•°**
GX_BOOL_FRAMESTORE_COVER_ACTIVEï¼šå¸§å­˜è¦†ç›–ä½¿èƒ½

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//ä½¿ èƒ½ å¸§ å­˜ è¦† ç›–
status = GXSetBool(m_hDevice, GX_BOOL_FRAMESTORE_COVER_ACTIVE, true);
//ç¦ ç”¨ å¸§ å­˜ è¦† ç›–
status = GXSetBool(m_hDevice, GX_BOOL_FRAMESTORE_COVER_ACTIVE, false);
```

### 15.7 å¸§ç‡æ§åˆ¶

**åè¯è§£é‡Š**
â¢ é‡‡é›†å¸§ç‡è°ƒèŠ‚æ¨¡å¼ï¼šæ§åˆ¶æ˜¯å¦å¼€å¯å¸§ç‡æ§åˆ¶æ¨¡å¼ï¼Œon ä¸ºå¯åŠ¨å¸§ç‡æ§åˆ¶ï¼Œoff ä¸ºä¸å¯ç”¨å¸§ç‡æ§åˆ¶ã€‚è¯¦è§ GxIAPI.h å®šä¹‰ GX_ACQUISITION_FRAME_RATE_MODE_ENTRYã€‚
â¢ é‡‡é›†å¸§ç‡ï¼š==æœŸæœ›çš„ç›¸æœºé‡‡é›†å¸§ç‡==ã€‚
â¢ å½“å‰é‡‡é›†å¸§ç‡ï¼šå®é™…è¿è¡Œæ—¶çš„é‡‡é›†å¸§ç‡ã€‚

ç›¸å…³å‚æ•°
GX_ENUM_ACQUISITION_FRAME_RATE_MODEï¼š     é‡‡é›†å¸§ç‡è°ƒèŠ‚æ¨¡å¼
GX_FLOAT_ACQUISITION_FRAME_RATEï¼š                  é‡‡é›†å¸§ç‡
GX_FLOAT_CURRENT_ACQUISITION_FRAME_RATEï¼šå½“å‰é‡‡é›†å¸§ç‡

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//ä½¿ èƒ½ é‡‡ é›† å¸§ ç‡ è°ƒ èŠ‚ æ¨¡ å¼
status = GXSetEnum(m_hDevice, GX_ENUM_ACQUISITION_FRAME_RATE_MODE,
GX_ACQUISITION_FRAME_RATE_MODE_ON);
//è®¾ ç½® é‡‡ é›† å¸§ ç‡,å‡ è®¾ è®¾ ç½® ä¸º 10.0ï¼Œ ç”¨ æˆ· æŒ‰ ç…§ å® é™… éœ€ æ±‚ è®¾ ç½® æ­¤ å€¼
status = GXSetFloat(m_hDevice, GX_FLOAT_ACQUISITION_FRAME_RATE, 10.0);
```

**æ³¨æ„äº‹é¡¹**
å¦‚æœ GX_FLOAT_ACQUISITION_FRAME_RATE è®¾ç½®çš„è¿‡å¤§ï¼Œè¶…è¿‡äº†ç›¸æœºå®é™…è¿è¡Œèƒ½åŠ›ï¼Œç›¸æœºä¼šä»¥å…¶è‡ªèº«å¯è¾¾åˆ°çš„æœ€å¤§å¸§ç‡è¿è¡Œï¼Œå³ GX_FLOAT_CURRENT_ACQUISITION_FRAME_RATE å½“å‰é‡‡é›†å¸§ç‡çš„å€¼ï¼ˆå¸§ç‡å—æ›å…‰ã€ROI ç­‰åŠŸèƒ½çš„å½±å“ï¼‰ã€‚

##16.æ•°å­— IO

###16.1 å¼•è„šæ§åˆ¶

**ç›¸å…³å‚æ•°**
GX_ENUM_LINE_SELECTORï¼š                      å¼•è„šé€‰æ‹©
GX_ENUM_LINE_MODEï¼š                             å¼•è„šæ–¹å‘
GX_BOOL_LINE_INVERTERï¼š                        å¼•è„šç”µå¹³åè½¬
GX_ENUM_LINE_SOURCEï¼š                          å¼•è„šè¾“å‡ºæº
GX_BOOL_LINE_STATUSï¼š                            å¼•è„šçŠ¶æ€
GX_INT_LINE_STATUS_ALLï¼š                         æ‰€æœ‰å¼•è„šçš„çŠ¶æ€
GX_ENUM_USER_OUTPUT_SELECTORï¼š     ç”¨æˆ·è‡ªå®šä¹‰è¾“å‡ºé€‰æ‹©
GX_BOOL_USER_OUTPUT_VALUEï¼š             ç”¨æˆ·è‡ªå®šä¹‰è¾“å‡ºå€¼
GX_FLOAT_PULSE_WIDTHï¼š                          ç”¨æˆ·è‡ªå®šä¹‰è„‰å†²å®½åº¦

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//ä¸¾ ä¾‹ å¼• è„š é€‰ æ‹© ä¸º Line2
emStatus = GXSetEnum(hDevice, GX_ENUM_LINE_SELECTOR, GX_ENUM_LINE_SELECTOR_LINE2);
//è®¾ ç½® å¼• è„š æ–¹ å‘ ä¸º è¾“ å‡º
emStatus = GXSetEnum(hDevice, GX_ENUM_LINE_MODE, GX_ENUM_LINE_MODE_OUTPUT);
//å¯ é€‰ æ“ ä½œ å¼• è„š ç”µ å¹³ å è½¬
//emStatus = GXSetBool(hDevice, GX_BOOL_LINE_INVERTER, true);
//å¦‚ æœ è®¾ ç½® è¾“ å‡º æº ä¸º é—ª å…‰ ç¯,åˆ™ å¦‚ ä¸‹ ä»£ ç 
emStatus = GXSetEnum(hDevice, GX_ENUM_LINE_SOURCE, GX_ENUM_LINE_SOURCE_STROBE);
//å¦‚ æœ è®¾ ç½® è¾“ å‡º æº ä¸º ç”¨ æˆ· è‡ª å®š ä¹‰ è¾“ å‡º,åˆ™ å¦‚ ä¸‹ ä»£ ç 
emStatus = GXSetEnum(hDevice, GX_ENUM_LINE_SOURCE,
GX_ENUM_LINE_SOURCE_USEROUTPUT0);
//è¿˜ å¯ ä»¥ è®¾ ç½® ç”¨ æˆ· è‡ª å®š ä¹‰ è¾“ å‡º å€¼ ï¼Œ å¦‚ ä¸‹ ä»£ ç 
emStatus = GXSetEnum(hDevice,GX_ENUM_USER_OUTPUT_SELECTOR,
GX_USER_OUTPUT_SELECTOR_OUTPUT0);
emStatus = GXSetBool(hDevice, GX_BOOL_USER_OUTPUT_VALUE,true);
//æŸ¥ çœ‹ å¼• è„š Line2 çš„ çŠ¶ æ€ ï¼Œ å›  ä¸º å½“ å‰ LineSelector é€‰ æ‹© çš„ æ˜¯ Line2ï¼Œ ç›´ æ¥ æŸ¥ è¯¢ å½“ å‰ å€¼ å³ å¯
bool bLineStatus = true;
emStatus = GXGetBool(hDevice, GX_BOOL_LINE_STATUS, &bLineStatus);
//æŸ¥ çœ‹ å½“ å‰ æ‰€ æœ‰ å¼• è„š çŠ¶ æ€
int64_t nAllLineStatus = 0;
emStatus = GXGetInt(hDevice, GX_INT_LINE_STATUS_ALL, &nAllLineStatus);
```

### 16.2 USB2.0 ç›¸æœº IO æ§åˆ¶

USB2.0 çš„ IO æ§åˆ¶æ¯”è¾ƒç‰¹æ®Šï¼Œä¸ä¸Šé¢ä¸€èŠ‚å±•ç¤ºâ€œå¼•è„šæ§åˆ¶â€æ“ä½œä¸æ˜¯åŒä¸€ä¸ªæ“ä½œæµç¨‹ï¼ŒUSB2.0 çš„ IO æ§åˆ¶æ¶‰åŠåˆ°ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š
**åè¯è§£é‡Š**
â¢ ç”¨æˆ· IO è¾“å‡ºæ¨¡å¼ï¼šåˆ†ä¸ºé—ªå…‰ç¯æ¨¡å¼å’Œç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼ã€‚é—ªå…‰ç¯æ¨¡å¼ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ç›¸æœºå‘é€è§¦å‘ä¿¡å·æ¥æ¿€æ´»é—ªå…‰ç¯ï¼ˆè§¦å‘ä¿¡å·åˆ†ä¸ºä¸Šå‡æ²¿ã€ä¸‹é™æ²¿ä¸¤ç§ï¼‰ï¼›ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ç”¨æˆ·å¯ä»¥è‡ªå·±è®¾å®šç›¸æœºæ’å®šçš„è¾“å‡ºç”µå¹³æ¥åšç‰¹åˆ«å¤„ç†ï¼Œæ¯”å¦‚æ§åˆ¶ LED ç¯ï¼ˆç”µå¹³åˆ†ä¸ºé«˜ç”µå¹³æˆ–è€…ä½ç”µå¹³ï¼‰ã€‚
â¢ è¾“å‡ºä¿¡å·ææ€§ï¼šå½“è¾“å‡ºä¿¡å·æ¨¡å¼ä¸ºé—ªå…‰ç¯æ¨¡å¼çš„æ—¶å€™ä»£è¡¨ä¸Šå‡æ²¿æˆ–è€…ä¸‹é™æ²¿ï¼›å½“è¾“å‡ºä¿¡å·æ¨¡å¼ä¸ºç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼çš„æ—¶å€™ä»£è¡¨é«˜ç”µå¹³æˆ–è€…ä½ç”µå¹³ã€‚
â¢ é—ªå…‰ç¯å¼€å…³ï¼šæ­¤å¼€å…³ä»…åœ¨è¾“å‡ºæ¨¡å¼ä¸ºé—ªå…‰ç¯æ¨¡å¼ä¸‹æ‰èµ·ä½œç”¨ï¼Œå½“è®¾ç½®ä¸ºå¼€çš„æ—¶å€™è¾“å‡ºè§¦å‘ä¿¡å·ï¼Œå½“è®¾ç½®ä¸ºå…³çš„æ—¶å€™ä¸è¾“å‡ºé—ªå…‰ç¯ä¿¡å·ã€‚

**ç›¸å…³å‚æ•°**
GX_ENUM_USER_OUTPUT_MODEï¼šç”¨æˆ· IO è¾“å‡ºæ¨¡å¼ï¼Œæšä¸¾å€¼å‚è€ƒ GX_USER_OUTPUT_MODE_ENTRY
ã€USB2.0 ç›¸æœºä¸“ç”¨ã€‘

GX_BOOL_USER_OUTPUT_VALUEï¼šç”¨æˆ·è‡ªå®šä¹‰è¾“å‡ºå€¼ã€å¦‚æœæ˜¯ USB2.0 ç›¸æœºï¼Œæ­¤å€¼è¡¨ç¤ºè¾“å‡ºä¿¡å·ææ€§ï¼šå½“è¾“å‡ºä¿¡å·æ¨¡å¼ä¸ºé—ªå…‰ç¯æ¨¡å¼çš„æ—¶å€™ä»£è¡¨ä¸Šå‡æ²¿æˆ–è€…ä¸‹é™æ²¿ï¼›å½“è¾“å‡ºä¿¡å·æ¨¡å¼ä¸ºç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼çš„æ—¶å€™ä»£è¡¨é«˜ç”µå¹³æˆ–è€…ä½ç”µå¹³ã€‘

GX_ENUM_STROBE_SWITCHï¼šé—ªå…‰ç¯å¼€å…³ï¼Œæšä¸¾å€¼å‚è€ƒ GX_STROBE_SWITCH_ENTRYã€USB2.0 ç›¸æœºä¸“ç”¨ã€‘

![](/home/peter/å›¾ç‰‡/IOæ§åˆ¶æµå›¾.png)

```c++
#include "GxIAPI.h"
int main(int argc, char* argv[])
{
  GX_STATUS status = GX_STATUS_SUCCESS;
  GX_DEV_HANDLE hDevice = NULL;
  GX_OPEN_PARAM stOpenParam;
  uint32_t nDeviceNum = 0;
  //åˆ å§‹ åŒ– åº“
  status = GXInitLib();
  if (status!= GX_STATUS_SUCCESS)
  {
    return 0;
  }
  //æš ä¸¾ è®¾ å¤‡ åˆ— è¡¨
  status = GXUpdateDeviceList(&nDeviceNum, 1000);
  if ((status!= GX_STATUS_SUCCESS)||(nDeviceNum<= 0))
  {
     return 0;
   }
  //æ‰“ å¼€ è®¾ å¤‡
  stOpenParam.accessMode = GX_ACCESS_EXCLUSIVE;
  stOpenParam.openMode = GX_OPEN_INDEX;
  stOpenParam.pszContent = "1";
  status = GXOpenDevice(&stOpenParam, &hDevice);
  if (status == GX_STATUS_SUCCESS)
  {
    //è®¾ ç½® è¾“ å‡º ä¿¡ å· æ æ€§ ä¸º é«˜
    status = GXSetBool(hDevice,GX_BOOL_USER_OUTPUT_VALUE,true);
    //è®¾ ç½® è¾“ å‡º æ¨¡ å¼ ä¸º é—ª å…‰ ç¯ æ¨¡ å¼
    status = GXSetEnum(hDevice,GX_ENUM_USER_OUTPUT_MODE,GX_USER_OUTPUT_MODE_STROBE);
    //æ‰“ å¼€ é—ª å…‰ ç¯ å¼€ å…³
    status = GXSetEnum(hDevice,GX_ENUM_STROBE_SWITCH,GX_STROBE_SWITCH_ON);
   }
status = GXCloseDevice(hDevice);
GXCloseLib();
return 0;
}
```



## 17 . æ¨¡æ‹Ÿæ§åˆ¶

### 17.1 å¢ç›Š

å¢ç›Šæ˜¯ç”¨æ¥æé«˜è±¡ç´ å€¼çš„ä¸€ä¸ªä¹˜æ³•å› å­ï¼Œèµ·åˆ°çš„æ•ˆæœå°±æ˜¯å¢åŠ å›¾åƒäº®åº¦ã€‚åœ¨ä¸€äº›ç‰¹å®šçš„æ¡ä»¶ä¸‹ï¼ˆå¤–éƒ¨ç¯å¢ƒç­‰ï¼‰sensor è¾¾ä¸åˆ°æœŸæœ›çš„é¥±å’Œåº¦ï¼Œæ‰€ä»¥éœ€è¦è°ƒèŠ‚å¢ç›Šã€‚å½“ç„¶æé«˜å¢ç›Šä¹Ÿä¼šæé«˜å™ªå£°ï¼Œæ‰€ä»¥æé«˜å¢ç›Šå¹¶æ²¡æœ‰æ”¹å–„å®é™…è±¡ç´ çš„åŠ¨æ€èŒƒå›´ã€‚æ‰€ä»¥å½“éœ€è¦æé«˜å›¾åƒäº®åº¦çš„æ—¶å€™é¦–å…ˆè€ƒè™‘è°ƒèŠ‚æ›å…‰æ—¶é—´ï¼Œåªæœ‰å½“æ›å…‰æ—¶é—´è°ƒèŠ‚å·²ç»æ— æ³•æ»¡è¶³è¦æ±‚çš„æ—¶å€™å†å»è°ƒèŠ‚å¢ç›Šã€‚

**åè¯è§£é‡Š**
â¢ å¢ç›Šé€šé“é€‰æ‹©ï¼šè°ƒèŠ‚å¢ç›Šä¹‹å‰éœ€è¦å…ˆé€‰æ‹©é€šé“ï¼Œä¸€èˆ¬åˆ†ä¸º ALLã€ Redã€ Greenã€ Blue å››ç§é€šé“ç±»å‹ã€‚
â¢ å¢ç›Šæ§åˆ¶æ–¹å¼ï¼šåˆ†ä¸ºæ‰‹åŠ¨è°ƒèŠ‚æ–¹å¼å’Œè‡ªåŠ¨è°ƒèŠ‚æ–¹å¼ä¸¤ç§ã€‚

**ç›¸å…³å‚æ•°**

GX_ENUM_GAIN_SELECTORï¼š             å¢ç›Šé€šé“é€‰æ‹©ï¼Œæšä¸¾å€¼å‚è€ƒ           GX_GAIN_SELECTOR_ENTRY
GX_FLOAT_GAINï¼š                                   å¢ç›Šå€¼
GX_ENUM_GAIN_AUTOï¼š                       è‡ªåŠ¨å¢ç›Šä½¿èƒ½æ§åˆ¶ï¼Œæšä¸¾å€¼å‚è€ƒ GX_GAIN_AUTO_ENTRY

```c++
//æ‰‹ åŠ¨ å¢ ç›Š è°ƒ èŠ‚------------------------
//ä½¿ ç”¨ GXGetEnumEntryNumsã€GXGetEnumDescription ä¸¤ ä¸ª æ¥ å£
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ çš„ GX_ENUM_GAIN_SELECTOR ç±» å‹
//å‚ è€ƒ æ¥ å£ è¯´ æ˜ éƒ¨ åˆ† ï¼Œ æ­¤ å¤„ çœ ç•¥
//å‡ è®¾ å½“ å‰ ç›¸ æœº æ”¯ æŒ GX_GAIN_SELECTOR_ALL
//é€‰ æ‹© å¢ ç›Š é€š é“ ç±» å‹
status = GXSetEnum(hDevice, GX_ENUM_GAIN_SELECTOR, GX_GAIN_SELECTOR_ALL);
//status= GXSetEnum(hDevice, GX_ENUM_GAIN_SELECTOR, GX_GAIN_SELECTOR_RED);
//status= GXSetEnum(hDevice, GX_ENUM_GAIN_SELECTOR, GX_GAIN_SELECTOR_GREEN);
//status= GXSetEnum(hDevice, GX_ENUM_GAIN_SELECTOR, GX_GAIN_SELECTOR_BLUE);
//è· å– å¢ ç›Š è°ƒ èŠ‚ èŒƒ å›´
GX_FLOAT_RANGE gainRange;
status = GXGetFloatRange(hDevice, GX_FLOAT_GAIN, &gainRange);
//è®¾ ç½® æœ€ å° å¢ ç›Š å€¼
status = GXSetFloat(hDevice, GX_FLOAT_GAIN, gainRange.dMin);
//è®¾ ç½® æœ€ å¤§ å¢ ç›Š å€¼
status = GXSetFloat(hDevice, GX_FLOAT_GAIN, gainRange.dMax);
//è®¾ ç½® è¿ ç»­ è‡ª åŠ¨ å¢ ç›Š
status = GXSetEnum(hDevice, GX_ENUM_GAIN_AUTO,GX_GAIN_AUTO_CONTINUOUS);
```

### 17.2 é»‘ç”µå¹³

**åè¯è§£é‡Š**

é»‘ç”µå¹³ï¼šå®šä¹‰å›¾åƒæ•°æ®å¯¹åº”çš„å‚è€ƒç”µå¹³ï¼Œè°ƒèŠ‚é»‘ç”µå¹³ä¸å½±å“ä¿¡å·çš„æ”¾å¤§å€æ•°ï¼Œä»…ä»…æ˜¯==å¯¹ä¿¡å·è¿›è¡Œä¸Šä¸‹å¹³ç§»==ã€‚==å‘ä¸Šè°ƒèŠ‚é»‘ç”µå¹³ï¼Œå›¾åƒå˜äº®ï¼›å‘ä¸‹è°ƒèŠ‚é»‘ç”µå¹³ï¼Œå›¾åƒå˜æš—==ã€‚

**ç›¸å…³å‚æ•°**

X_ENUM_BLACKLEVEL_SELECTORï¼š       é»‘ç”µå¹³é€šé“é€‰æ‹©ï¼Œæšä¸¾å€¼å‚GX_BLACKLEVEL_SELECTOR_ENTRY
GX_FLOAT_BLACKLEVELï¼š                         é»‘ç”µå¹³å€¼
GX_ENUM_BLACKLEVEL_AUTOï¼š            é»‘ç”µå¹³è‡ªåŠ¨åŠŸèƒ½ä½¿èƒ½ï¼Œæšä¸¾å€¼å‚è€ƒ GX_BLACKLEVEL_AUTO_ENTRY

```c++
//æ‰‹ åŠ¨ é»‘ ç”µ å¹³ è°ƒ èŠ‚------------------------
//ä½¿ ç”¨ GXGetEnumEntryNumsã€GXGetEnumDescriptiXon ä¸¤ ä¸ª æ¥ å£
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ çš„ GX_ENUM_BLACKLEVEL_SELECTOR ç±» å‹
//å‚ è€ƒ æ¥ å£ è¯´ æ˜ éƒ¨ åˆ† ï¼Œ æ­¤ å¤„ çœ ç•¥
//å‡ è®¾ å½“ å‰ ç›¸ æœº æ”¯ æŒ GX_BLACKLEVEL_SELECTOR_ALL
//é€‰ æ‹© é»‘ ç”µ å¹³ é€š é“ ç±» å‹
status = GXSetEnum(hDevice, GX_ENUM_BLACKLEVEL_SELECTOR,
GX_BLACKLEVEL_SELECTOR_ALL);
//status=GXSetEnum(hDevice,GX_ENUM_BLACKLEVEL_SELECTOR,GX_BLACKLEVEL_SELECTOR_RED);
//status=GXSetEnum(hDevice,GX_ENUM_BLACKLEVEL_SELECTOR,GX_BLACKLEVEL_SELECTOR_GREEN);
//status=GXSetEnum(hDevice,GX_ENUM_BLACKLEVEL_SELECTOR,GX_BLACKLEVEL_SELECTOR_BLUE);
//è· å– é»‘ ç”µ å¹³ è°ƒ èŠ‚ èŒƒ å›´
GX_FLOAT_RANGE blackLevelRange;
status = GXGetFloatRange(hDevice, GX_FLOAT_BLACKLEVEL, &blackLevelRange);
//è®¾ ç½® æœ€ å° é»‘ ç”µ å¹³ å€¼
status = GXSetFloat(hDevice, GX_Float_BLACKLEVEL, blackLevelRange.dMin);
//è®¾ ç½® æœ€ å¤§ é»‘ ç”µ å¹³ å€¼
status = GXSetFloat(hDevice, GX_Float_BLACKLEVEL, blackLevelRange.dMax);
//è‡ª åŠ¨ é»‘ ç”µ å¹³ è®¾ ç½®--------------------------
//è®¾ ç½® è¿ ç»­ è‡ª åŠ¨ é»‘ ç”µ å¹³
status = GXSetEnum(hDevice, GX_ENUM_BLACKLEVEL_AUTO, GX_BLACKLEVEL_AUTO_CONTINUOUS);
```

###17.3 ç™½å¹³è¡¡

**åè¯è§£é‡Š**
â¢ ç™½å¹³è¡¡ï¼šåœ¨å„ç§ä¸åŒçš„è‰²æ¸©ä¸‹ï¼Œç›®æ ‡ç‰©çš„è‰²å½©ä¼šäº§ç”Ÿå˜åŒ–ã€‚å…¶ä¸­ï¼Œç™½è‰²ç‰©ä½“å˜åŒ–å¾—æœ€ä¸ºæ˜æ˜¾ï¼šåœ¨å®¤å†…é’¨ä¸ç¯è¿™æ ·ä½è‰²æ¸©ç…§å°„ä¸‹ï¼Œç™½è‰²ç‰©ä½“çœ‹èµ·æ¥ä¼šå¸¦æœ‰æ©˜é»„è‰²è‰²è°ƒï¼Œåœ¨è¿™æ ·çš„å…‰ç…§æ¡ä»¶ä¸‹æ‹æ‘„å‡ºæ¥çš„æ™¯ç‰©åé»„ï¼›åœ¨è”šè“è‰²å¤©ç©ºè¿™æ ·é«˜è‰²æ¸©ç…§å°„ä¸‹ï¼Œåˆ™ä¼šå¸¦æœ‰è“è‰²è‰²è°ƒï¼Œåœ¨è¿™ç§å…‰ç…§æ¡ä»¶ä¸‹æ‹æ‘„å‡ºæ¥çš„æ™¯ç‰©åè“ã€‚==ä¸ºäº†å°½å¯èƒ½å‡å°‘å¤–æ¥å…‰çº¿å¯¹ç›®æ ‡é¢œè‰²é€ æˆå½±å“ï¼Œåœ¨ä¸åŒçš„è‰²æ¸©æ¡ä»¶ä¸‹éƒ½èƒ½è¿˜åŸå‡ºè¢«æ‹æ‘„ç›®æ ‡æœ¬æ¥çš„è‰²å½©ï¼Œéœ€è¦è¿›è¡Œè‰²å½©æ ¡æ­£ï¼Œè¾¾åˆ°æ­£ç¡®çš„è‰²å½©å¹³è¡¡ï¼Œæˆä¸ºç™½å¹³è¡¡è°ƒæ•´ã€‚==
â¢ ç™½å¹³è¡¡æ§åˆ¶æ–¹å¼ï¼šæ‰‹åŠ¨è°ƒèŠ‚æ–¹å¼ã€è‡ªåŠ¨è°ƒèŠ‚æ–¹å¼ã€‚
â¢ è‡ªåŠ¨ç™½å¹³è¡¡å…³ç…§ç¯å¢ƒï¼šæ­¤å€¼éœ€è¦ç”¨æˆ·ä¾æ®ç›¸æœºæ‰€å¤„ç¯å¢ƒçš„å…‰æºï¼Œè‡ªè¡Œè®¾ç½®ï¼Œè®¾ç½®å®Œæ­¤å€¼åç™½å¹³è¡¡æ•ˆæœæ›´ä½³ã€‚
â¢ è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸï¼šè‡ªåŠ¨ç™½å¹³è¡¡é‡‡ç”¨ç™½å¹³è¡¡â€œç™½ç‚¹â€åŒºåŸŸï¼ˆROIï¼‰ä¸­çš„å›¾åƒæ•°æ®è®¡ç®—ç™½å¹³è¡¡ç³»æ•°ï¼Œç„¶åæ ¹æ®è®¡ç®—çš„ç³»æ•°å¯¹å›¾åƒçš„å„åˆ†é‡è¿›è¡Œå¤„ç†ï¼Œä½¿ ROI åŒºåŸŸä¸­çš„çº¢ã€ç»¿ã€è“ä¸‰åˆ†é‡çš„å€¼ä¸€è‡´ã€‚è‡ªåŠ¨ç™½å¹³è¡¡åªå¯¹å½©è‰²ä¼ æ„Ÿå™¨æœ‰æ•ˆã€‚

**ç›¸å…³å‚æ•°**
GX_ENUM_BALANCE_RATIO_SELECTORï¼šç™½å¹³è¡¡é€šé“é€‰æ‹©ï¼Œæšä¸¾å€¼å‚è€ƒ
                                                                             GX_BALANCE_RATIO_SELECTOR_ENTRY
GX_FLOAT_BALANCE_RATIOï¼š                   ç™½å¹³è¡¡ç³»æ•°
GX_ENUM_BALANCE_WHITE_AUTOï¼š       è‡ªåŠ¨ç™½å¹³è¡¡ä½¿èƒ½ï¼Œæšä¸¾å€¼å‚è€ƒ                       GX_BALANCE_WHITE_AUTO_ENTRY
GX_ENUM_AWB_LAMP_HOUSEï¼šè‡ªåŠ¨ç™½å¹³è¡¡å…‰ç…§ç¯å¢ƒï¼Œæšä¸¾å€¼å‚è€ƒ   GX_AWB_LAMP_HOUSE_ENTRY
GX_INT_AWBROI_OFFSETXï¼š                       è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸXåæ ‡
GX_INT_AWBROI_OFFSETYï¼š                       è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸYåæ ‡
GX_INT_AWBROI_WIDTHï¼š                          è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸå®½åº¦
GX_INT_AWBROI_HEIGHTï¼š                         è‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸé«˜åº¦



```c++
//æ‰‹ åŠ¨ ç™½ å¹³ è¡¡ è°ƒ èŠ‚------------------------
//ä½¿ ç”¨ GXGetEnumEntryNumsã€GXGetEnumDescription ä¸¤ ä¸ª æ¥ å£
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ çš„ GX_ENUM_BALANCE_RATIO_SELECTOR ç±» å‹
//å‚ è€ƒ æ¥ å£ è¯´ æ˜ éƒ¨ åˆ† ï¼Œ æ­¤ å¤„ çœ ç•¥
//å‡ è®¾ å½“ å‰ ç›¸ æœº æ”¯ æŒ GX_BALANCE_RATIO_SELECTOR_RED
//é€‰ æ‹© ç™½ å¹³ è¡¡ é€š é“
status = GXSetEnum(hDevice,GX_ENUM_BALANCE_RATIO_SELECTOR,
GX_BALANCE_RATIO_SELECTOR_RED);
//status=GXSetEnum(hDevice,GX_ENUM_BALANCE_RATIO_SELECTOR,GX_BALANCE_RATIO_SELECTOR_GREEN);
//status=GXSetEnum(hDevice,GX_ENUM_BALANCE_RAT IO_SELECTOR,GX_BALANCE_RATIO_SELECTOR_BLUE);
//è· å– ç™½ å¹³ è¡¡ è°ƒ èŠ‚ èŒƒ å›´
GX_FLOAT_RANGEratioRange;
status = GXGetFloatRange(hDevice, GX_FLOAT_BALANCE_RATIO, &ratioRange);
//è®¾ ç½® æœ€ å° ç™½ å¹³ è¡¡ ç³» æ•°
status = GXSetFloat(hDevice, GX_FLOAT_BALANCE_RATIO, ratioRange.dMin);
//è®¾ ç½® æœ€ å¤§ ç™½ å¹³ è¡¡ ç³» æ•°
status = GXSetFloat(hDevice, GX_FLOAT_BALANCE_RATIO, ratioRange.dMax);
//è®¾ ç½® è‡ª åŠ¨ ç™½ å¹³ è¡¡ æ„Ÿ å…´ è¶£ åŒº åŸŸ(ä»£ ç  ä¸­ å‚ æ•° ä¸º ä¸¾ ä¾‹ ï¼Œ ç”¨ æˆ· æ ¹ æ® è‡ª å·± éœ€ è¦ è‡ª è¡Œ ä¿® æ”¹ å‚ æ•° å€¼ )
status=GXSetInt(hDevice,GX_INT_AWBROI_WIDTH, 100);
status=GXSetInt(hDevice,GX_INT_AWBROI_HEIGHT, 100);
status=GXSetInt(hDevice,GX_INT_AWBROI_OFFSETX, 0);
status=GXSetInt(hDevice,GX_INT_AWBROI_OFFSETY, 0);

//è‡ª åŠ¨ ç™½ å¹³ è¡¡ è®¾ ç½®--------------------------
//è®¾ ç½® è‡ª åŠ¨ ç™½ å¹³ è¡¡ å…‰ ç…§ ç¯ å¢ƒ ï¼Œ æ¯” å¦‚ å½“ å‰ ç›¸ æœº æ‰€ å¤„ ç¯ å¢ƒ ä¸º è§ å…‰ ç¯
status = GXSetEnum(hDevice,GX_ENUM_AWB_LAMP_HOUSE,
GX_AWB_LAMP_HOUSE_FLUORESCENCE);
//è®¾ ç½® è¿ ç»­ è‡ª åŠ¨ ç™½ å¹³ è¡¡
status = GXSetEnum(hDevice,GX_ENUM_BALANCE_WHITE_AUTO,
GX_BALANCE_WHITE_AUTO_CONTINUOUS);
```

å¦‚æœè‡ªåŠ¨ç™½å¹³è¡¡åŠŸèƒ½å¤±æ•ˆï¼Œå¯èƒ½æ˜¯å› ä¸ºè‡ªåŠ¨ç™½å¹³è¡¡æ„Ÿå…´è¶£åŒºåŸŸå¤ªå°ï¼Œæ‰¾ä¸åˆ°ç™½ç‚¹é€ æˆã€‚



## 18. ä¼ è¾“å±‚æ§åˆ¶

### 18.1 PayloadSize

**åè¯è§£é‡Š**
PayloadSizeï¼š==æ­¤å‚æ•°è¡¨ç¤ºç›¸æœºå½“å‰è¾“å‡ºçš„æ¯ä¸€å¸§å›¾åƒæ•°æ®å¤§å°==(å•ä½ï¼šå­—èŠ‚)ï¼Œç”¨æˆ·è·å–å›¾åƒï¼Œåˆ†é… bufferå¤§å°ä¾æ®æ­¤å€¼ã€‚å½“å…³é—­å¸§ä¿¡æ¯çš„æ—¶å€™ï¼Œè¾“å‡ºå›¾åƒä¸é™„å¸¦å¸§ä¿¡æ¯ï¼Œæ­¤æ—¶ payloadSize çš„å¤§å°å°±ä»£è¡¨å›¾åƒå¤§å°ï¼›å½“å¼€å¯å¸§ä¿¡æ¯ä»¥åï¼Œè¾“å‡ºå›¾åƒé™„å¸¦å¸§ä¿¡æ¯ï¼Œæ­¤æ—¶ payloadSize çš„å¤§å°ç­‰äºå›¾åƒå¤§å°åŠ å¸§ä¿¡æ¯å¤§å°ã€‚

**ç›¸å…³å‚æ•°**

GX_INT_PAYLOAD_SIZEï¼šæ•°æ®å¤§å°

**ä»£ç æ ·ä¾‹**

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
int64_t nValue = 0;
status = GXGetInt(hDevice, GX_INT_PAYLOAD_SIZE, &nValue);
```



### 18.2  IP é…ç½®æ–¹å¼

**ç›¸å…³å‚æ•°**
GX_BOOL_GEV_CURRENT_IPCONFIGURATION_LLAï¼šLLA æ–¹å¼é…ç½® IP
GX_BOOL_GEV_CURRENT_IPCONFIGURATION_DHCPï¼šDHCP æ–¹å¼é…ç½® IP
GX_BOOL_GEV_CURRENT_IPCONFIGURATION_PERSISTENTIPï¼šæ°¸ä¹… IP æ–¹å¼é…ç½® IP

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//æœ¬ ä¾‹ ä»¥ æ°¸ ä¹… IP é… ç½® æ–¹ å¼ è¯´ æ˜ ,å…¶ ä»– IP é… ç½® æ–¹ å¼ ç±» ä¼¼
//è®¾ ç½® ä¸º æ°¸ ä¹… IP é… ç½® æ–¹ å¼
status = GXSetBool(hDevice, GX_BOOL_GEV_CURRENT_IPCONFIGURATION_PERSISTENTIP, true);
```

### 18.3 é¢„ä¼°å¸¦å®½

### 18.4  è®¾å¤‡å¿ƒè·³æ—¶é—´

**åè¯è§£é‡Š**
è®¾å¤‡å¿ƒè·³è¶…æ—¶æ—¶é—´ï¼šå¦‚æœåœ¨æ­¤æ—¶é—´èŒƒå›´å†…ï¼Œè®¾å¤‡ç«¯æ¥æ”¶ä¸åˆ°æ¥è‡ªä¸»æ§ä¸»æœºçš„ GVCP å‘½ä»¤åŒ…ï¼Œå°†ä¼šæ–­å¼€ä¸ä¸»æ§ä¸»æœºçš„è¿æ¥ã€‚

**ç›¸å…³å‚æ•°**

GX_INT_GEV_HEARTBEAT_TIMEOUTï¼šè®¾å¤‡å¿ƒè·³è¶…æ—¶æ—¶é—´ï¼Œå•ä½ ms

**ä»£ç æ ·ä¾‹**

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è¯» å– å½“ å‰ çš„ è®¾ å¤‡ å¿ƒ è·³ æ—¶ é—´
int64_t nValue = 0;
status = GXGetInt(hDevice, GX_INT_GEV_HEARTBEAT_TIMEOUT, &nValue);
//è¯» å– è®¾ å¤‡ å¿ƒ è·³ æ—¶ é—´ å¯ è®¾ ç½® èŒƒ å›´ å‚ è§ GXGetIntRange æ¥ å£ çš„ ä½¿ ç”¨ æ–¹ æ³•
//è®¾ ç½® è®¾ å¤‡ å¿ƒ è·³ æ—¶ é—´
status = GXSetInt(hDevice, GX_INT_GEV_HEARTBEAT_TIMEOUT, nValue);
```

å¼ºçƒˆæ¨èæˆ·ä½¿ç”¨é»˜è®¤å€¼ï¼Œé™¤éç‰¹æ®Šæƒ…å†µæ‰å…è®¸ç”¨æˆ·æ ¹æ®ç°åœºç¯å¢ƒä¿®æ”¹æ­¤å€¼ã€‚

###18.5 åŒ…é•¿

åŒ…é•¿ï¼šæŒ‡ Gige Vision ç›¸æœºå‘ä¸»æœºç«¯ä¼ è¾“æµé€šé“æ•°æ®çš„ç½‘ç»œåŒ…å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚

GX_INT_GEV_PACKETSIZEï¼šæµé€šé“åŒ…é•¿

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è¯» å– åŒ… é•¿
int64_t nPacketSize = 0;
status = GXGetInt(hDevice, GX_INT_GEV_PACKETSIZE, &nPacketSize);
```

### 18.6 åŒ…é—´éš”

åŒ…é—´éš”ï¼šç”¨äºæ§åˆ¶ Gige Vision ç›¸æœºä¼ è¾“å›¾åƒæµæ•°æ®çš„å¸¦å®½ã€‚åŒ…é—´éš”æ˜¯åœ¨æµé€šé“ä¼ è¾“çš„ç›¸é‚»ç½‘ç»œæ•°æ®åŒ…ä¹‹é—´æ’å…¥çš„ç©ºé—²æ—¶é’Ÿä¸ªæ•°ã€‚å¢åŠ åŒ…é—´éš”èƒ½å¤Ÿé™ä½ç›¸æœºå¯¹ç½‘ç»œå¸¦å®½çš„å ç”¨ç‡ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¯èƒ½é™ä½äº†ç›¸æœºçš„å¸§ç‡ã€‚

GX_INT_GEV_PACKETDELAYï¼šæµé€šé“åŒ…é—´éš”

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è¯» å– åŒ… é—´ éš”
int64_t nPacketDelay = 0;
status = GXGetInt(hDevice, GX_INT_GEV_PACKETDELAY, &nPacketDelay);
```

#### 18.7 é“¾æ¥é€Ÿåº¦

é“¾æ¥é€Ÿåº¦ï¼šæŒ‡å½“å‰å·¥ä½œçš„ç½‘ç»œç¯å¢ƒæ˜¯åƒå…†ç½‘è¿˜æ˜¯ç™¾å…†ç½‘ã€‚

GX_INT_GEV_LINK_SPEEDï¼šé“¾æ¥é€Ÿåº¦

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//è¯» å– å½“ å‰ çš„ è¿ æ¥ é€Ÿ åº¦
int64_t nLinkSpeed = 0;
status = GXGetInt(hDevice, GX_INT_GEV_LINK_SPEED, &nLinkSpeed);
```



## 19.å¸¦å®½æ§åˆ¶

æ§åˆ¶å•å°è®¾å¤‡çš„å¸¦å®½ä¸Šé™,å½“è®¾å¤‡é“¾è·¯å¸¦å®½é™åˆ¶å¤§äºå½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½å€¼æ—¶ï¼Œå½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½å°†ä¸å‘ç”Ÿæ”¹å˜ï¼›å½“è®¾å¤‡é“¾è·¯å¸¦å®½é™åˆ¶å°äºå½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½æ—¶ï¼Œå½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½å°†ä¼šä¸‹é™åˆ°è®¾å¤‡é“¾è·¯å¸¦å®½é™åˆ¶ä»¥ä¸‹ï¼›å½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½å¯ä»¥ä»ç›¸æœºä¸­è¯»å–ã€‚

X_INT_DEVICE_LINK_SELECTORï¼š                                è®¾å¤‡é“¾è·¯é€‰æ‹©
GX_ENUM_DEVICE_LINK_THROUGHPUT_LIMIT_MODEï¼šè®¾å¤‡å¸¦å®½é™åˆ¶æ¨¡å¼
GX_INT_DEVICE_LINK_THROUGHPUT_LIMITï¼š             è®¾å¤‡å¸¦å®½é™åˆ¶
GX_INT_DEVICE_LINK_CURRENT_THROUGHPUTï¼š   å½“å‰è®¾å¤‡é‡‡é›†å¸¦å®½

```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//å¼€ å¯ å¸¦ å®½ é™ åˆ¶ æ¨¡ å¼
GX_DEVICE_LINK_THROUGHPUT_LIMIT_MODE_ENTRY nValue;
nValue = GX_DEVICE_LINK_THROUGHPUT_LIMIT_MODE_ON;
status = GXSetEnum(hDevice,GX_ENUM_DEVICE_LINK_THROUGHPUT_LIMIT_MODE, nValue);
//æŸ¥ è¯¢ å½“ å‰ çš„ å¸¦ å®½ å€¼
int64_t nLinkThroughputVal;
status = GXGetInt(hDevice, GX_INT_DEVICE_LINK_CURRENT_THROUGHPUT,
&nLinkThroughputVal);
//è®¾ ç½® å¸¦ å®½ é™ åˆ¶ å€¼
int64_t nLinkThroughputLimitVal = 40000000;
status = GXSetInt(hDevice, GX_INT_DEVICE_LINK_THROUGHPUT_LIMIT,
nLinkThroughputLimitVal);
```



## 20. äº‹ä»¶æ§åˆ¶

å½“ç‰¹å®šçš„æƒ…å½¢å‘ç”Ÿæ—¶ï¼Œç›¸æœºå°†äº§ç”Ÿå¯¹åº”çš„â€œäº‹ä»¶â€ï¼Œå¹¶å°†äº‹ä»¶æ¶ˆæ¯å‘é€åˆ° PC æœºï¼Œå‘ŠçŸ¥ PC æœ‰â€œäº‹ä»¶â€å‘ç”Ÿäº†ã€‚æ¯”å¦‚ï¼Œåœ¨æ°´æ˜Ÿåƒå…†ç½‘ç³»åˆ—ç›¸æœºä¸­ï¼Œç›¸æœºä¼šåœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹äº§ç”Ÿå¹¶ä¼ é€’äº‹ä»¶ï¼šæ›å…‰ç»“æŸã€å›¾åƒå¸§æ•°æ®ä¸¢å¼ƒã€è§¦å‘ä¿¡å·æº¢å‡ºã€å›¾åƒå¸§å­˜æ•°æ®ä¸ä¸ºç©ºå’Œäº‹ä»¶é˜Ÿåˆ—æº¢å‡ºã€‚æ¯ç§äº‹ä»¶éƒ½æœ‰ç›¸åº”çš„ä½¿èƒ½ä½ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç›¸æœºçš„æ‰€æœ‰äº‹ä»¶ä½¿èƒ½éƒ½ä¸ºå…³é—­çŠ¶æ€ã€‚è¿œç«¯è®¾å¤‡äº‹ä»¶ç›®å‰åªæœ‰æ°´æ˜Ÿåƒå…†ç½‘ç³»åˆ—ç›¸æœºæ”¯æŒã€‚

GX_ENUM_EVENT_SELECTORï¼šäº‹ä»¶æºé€‰æ‹©,å‚è€ƒ GX_EVENT_SELECTOR_ENTRY
GX_ENUM_EVENT_NOTIFICATIONï¼šäº‹ä»¶ä½¿èƒ½,å‚è€ƒ GX_EVENT_NOTIFICATION_ENTRY
GX_INT_EVENT_EXPOSUREENDï¼šæ›å…‰ç»“æŸäº‹ä»¶ ID
GX_INT_EVENT_EXPOSUREEND_TIMESTAMPï¼šæ›å…‰ç»“æŸäº‹ä»¶æ—¶é—´æˆ³
GX_INT_EVENT_EXPOSUREEND_FRAMEIDï¼šæ›å…‰ç»“æŸäº‹ä»¶å¸§ ID
GX_INT_EVENT_BLOCK_DISCARDï¼šæ•°æ®åŒ…ä¸¢å¤±äº‹ä»¶ ID
GX_INT_EVENT_BLOCK_DISCARD_TIMESTAMPï¼šæ•°æ®åŒ…ä¸¢å¤±äº‹ä»¶æ—¶é—´æˆ³
GX_INT_EVENT_OVERRUNï¼šäº‹ä»¶é˜Ÿåˆ—æº¢å‡ºäº‹ä»¶ ID
GX_INT_EVENT_OVERRUN_TIMESTAMPï¼šäº‹ä»¶é˜Ÿåˆ—æº¢å‡ºäº‹ä»¶æ—¶é—´æˆ³
GX_INT_EVENT_FRAMESTART_OVERTRIGGERï¼šè§¦å‘ä¿¡å·è¢«å±è”½äº‹ä»¶ ID
GX_INT_EVENT_FRAMESTART_OVERTRIGGER_TIMESTAMPï¼šè§¦å‘ä¿¡å·è¢«å±è”½äº‹ä»¶æ—¶é—´æˆ³
GX_INT_EVENT_BLOCK_NOT_EMPTYï¼šå¸§å­˜ä¸ä¸ºç©ºäº‹ä»¶ ID
GX_INT_EVENT_BLOCK_NOT_EMPTY_TIMESTAMPï¼šå¸§å­˜ä¸ä¸ºç©ºäº‹ä»¶æ—¶é—´æˆ³
GX_INT_EVENT_INTERNAL_ERRORï¼šå†…éƒ¨é”™è¯¯äº‹ä»¶ ID
GX_INT_EVENT_INTERNAL_ERROR_TIMESTAMPï¼šå†…éƒ¨é”™è¯¯äº‹ä»¶æ—¶é—´æˆ³



## 21. æŸ¥æ‰¾è¡¨æ§åˆ¶

åè¯è§£é‡Š
æŸ¥æ‰¾è¡¨ï¼š==æŸ¥æ‰¾è¡¨ä¸ºåƒç´ å€¼è½¬åŒ–çš„æ˜ å°„è¡¨ï¼Œå…¶ä¸åƒç´ å€¼ä¸€ä¸€å¯¹åº”ï¼Œç”¨æ¥æ”¹å˜æ¯ä¸ªåƒç´ å€¼è¾“å‡ºã€‚==æ—¢å¯ç”¨äºé«˜ä½æ·±å›¾åƒå‘ä½ä½æ·±å›¾åƒçš„è½¬åŒ–ï¼Œä¹Ÿå¯ç”¨äºåŒç­‰ä½æ·±å›¾åƒå•çº¯çš„åƒç´ å€¼è½¬åŒ–ã€‚æŸ¥æ‰¾è¡¨ç»™äºˆç”¨æˆ·æœ€å¤§çš„çµæ´»åº¦ï¼Œç”¨ä»¥å®ç°åƒç´ å€¼çš„çº¿æ€§å’Œéçº¿æ€§å˜æ¢ï¼ˆå¦‚å¯¹æ•°ä¿®æ­£å’ŒæŒ‡æ•°ä¿®æ­£ï¼‰ï¼Œè€Œæ— é¡»æ¶ˆè€—ç³»ç»Ÿä¸­å®è´µçš„è®¡ç®—èµ„æºã€‚
ç›¸å…³å‚æ•°ï¼š
GX_ENUM_LUT_SELECTORï¼šæŸ¥æ‰¾è¡¨é€‰æ‹©,å‚è€ƒ GX_LUT_SELECTOR_ENTRY
GX_BUFFER_LUT_VALUEALLï¼šæŸ¥æ‰¾è¡¨å†…å®¹
GX_BOOL_LUT_ENABLEï¼šæŸ¥æ‰¾è¡¨ä½¿èƒ½
GX_INT_LUT_INDEXï¼šæŸ¥æ‰¾è¡¨ç´¢å¼•
GX_INT_LUT_VALUEï¼šæŸ¥æ‰¾è¡¨å€¼



## 22. ç”¨æˆ·é…ç½®

è¿™ä¸€èŠ‚æè¿°çš„æ˜¯å¯¹ç›¸æœº==æ‰€æœ‰å‚æ•°é…ç½®çš„æ§åˆ¶==ï¼Œå…è®¸ç”¨æˆ·ä¿å­˜æˆ–è€…åŠ è½½å‚å•†å‚æ•°ç»„æˆ–è€…ç”¨æˆ·å‚æ•°ç»„ã€‚
åè¯è§£é‡Š
â¢ å‚æ•°ç»„ç±»å‹ï¼šç”¨æˆ·é€‰æ‹©ä¸€ç§å‚æ•°ç»„ç±»å‹ï¼ˆå¯èƒ½æ˜¯å‚å•†é»˜è®¤å‚æ•°ç»„æˆ–ç”¨æˆ·å‚æ•°ç»„ 0ï¼‰ï¼Œè¿›è¡Œä¿å­˜æˆ–è€…åŠ è½½æ“ä½œã€‚
â¢ åŠ è½½å‚æ•°ç»„ï¼šå°†ç”¨æˆ·é€‰å®šçš„å‚æ•°ç»„åŠ è½½åˆ°ç›¸æœºã€‚
â¢ ä¿å­˜å‚æ•°ç»„ï¼šå°†ç›¸æœºå½“å‰çš„å‚æ•°ä¿å­˜åˆ°ç”¨æˆ·é€‰å®šçš„å‚æ•°ç»„é‡Œé¢ã€‚
â¢ å¯åŠ¨å‚æ•°ç»„ï¼šè®¾ç½®è®¾å¤‡ä¸Šç”µå¯åŠ¨çš„æ—¶å€™ä½¿ç”¨çš„å‚æ•°ç»„ã€‚
ç›¸å…³å‚æ•°
GX_ENUM_USER_SET_SELECTORï¼šé€‰æ‹©è¦æ“ä½œçš„å‚æ•°ç»„ï¼›å¯èƒ½åŒ…å«å‚å•†é»˜è®¤å‚æ•°ç»„ã€ç”¨æˆ·å‚æ•°ç»„ 0ï¼›å‚å•†å‚æ•°ç»„æ˜¯åªè¯»çš„ï¼Œä¸å¯ä¿®æ”¹ï¼Œå³å½“é€‰æ‹©å‚å•†å‚æ•°ç»„æ—¶åªèƒ½é€‰æ‹©åŠ è½½æ“ä½œï¼Œä¸èƒ½é€‰æ‹©ä¿å­˜æ“ä½œã€‚æšä¸¾å€¼   å‚è€ƒ GX_USER_SET_SELECTOR_ENTRY
GX_COMMAND_USER_SET_LOADï¼šåŠ è½½æ‰€é€‰æ‹©çš„å‚æ•°ç»„å‚æ•°åˆ°ç›¸æœº
GX_COMMAND_USER_SET_SAVEï¼šå°†å½“å‰ç›¸æœºå‚æ•°ä¿å­˜åˆ°æ‰€é€‰æ‹©çš„å‚æ•°ç»„å†…
GX_ENUM_USER_SET_DEFAULTï¼šå¯åŠ¨å‚æ•°ç»„,å‚è€ƒ GX_USER_SET_DEFAULT_ENTRY

```c++
//ä½¿ ç”¨ GXGetEnumEntryNumsã€GXGetEnumDescription ä¸¤ ä¸ª æ¥ å£
//æŸ¥ è¯¢ å½“ å‰ ç›¸ æœº æ”¯ æŒ çš„ GX_ENUM_USER_SET_SELECTOR ç±» å‹
//å‚ è€ƒ æ¥ å£ è¯´ æ˜ éƒ¨ åˆ† ï¼Œ æ­¤ å¤„ çœ ç•¥
//å‡ è®¾ å½“ å‰ ç›¸ æœº æ”¯ æŒ å‚ å•† é»˜ è®¤ å‚ æ•° ç»„ ã€ ç”¨ æˆ· å‚ æ•° ç»„ 0ï¼Œ å…± ä¸¤ ç§ å‚ æ•° ç»„
//é€‰ æ‹© åŠ  è½½ å‚ å•† å‚ æ•° ç»„
status = GXSetEnum(hDevice, GX_ENUM_USER_SET_SELECTOR,GX_ENUM_USER_SET_SELECTOR_DEFAULT);
status = GXSendCommand(hDevice, GX_COMMAND_USER_SET_LOAD);
//é€‰ æ‹© åŠ  è½½ ç”¨ æˆ· å‚ æ•° ç»„ 0
status = GXSetEnum(hDevice, GX_ENUM_USER_SET_SELECTOR,GX_ENUM_USER_SET_SELECTOR_USERSET0);
status = GXSendCommand(hDevice, GX_COMMAND_USER_SET_LOAD);
//è®¾ ç½® å¯ åŠ¨ å‚ æ•° ç»„ ä¸º å‚ å•† å‚ æ•° ç»„
emStatus = GXSetEnum(hDevice, GX_ENUM_USER_SET_DEFAULT,GX_ENUM_USER_SET_DEFAULT_DEFAULT);
```

## 23. è®¾ç½®ç›¸æœº IP

### 23.1 é…ç½®é™æ€IPåœ°å€

åè¯è§£é‡Š
â¢ é™æ€ IPï¼šä»¥é™æ€ IP æ–¹å¼é…ç½®ç›¸æœº IPã€‚
â¢ DHCPï¼šä»¥ DHCP æ–¹å¼é…ç½®ç›¸æœº IPï¼Œå³ä½¿ç”¨ DHCP æœåŠ¡å™¨åˆ†é…çš„ IPã€‚
â¢ LLAï¼šä»¥ LLA(Link-Local Address)æ–¹å¼é…ç½®ç›¸æœº IPã€‚
ç›¸å…³å‚æ•°
GX_IP_CONFIGURE_STATIC_IPï¼šä»¥é™æ€ IP æ–¹å¼é…ç½®ç›¸æœº IP
GX_IP_CONFIGURE_DHCPï¼šä»¥ DHCP æ–¹å¼é…ç½®ç›¸æœº IP
GX_IP_CONFIGURE_LLAï¼šä»¥ LLA æ–¹å¼é…ç½®ç›¸æœº IP
GX_IP_CONFIGURE_DEFAULTï¼šä»¥é»˜è®¤æ–¹å¼é…ç½®ç›¸æœº IPï¼Œé€‰ç”¨æ­¤ç§æ–¹å¼ï¼Œç›¸æœºå†…éƒ¨å°†ä»¥ä¸Šä¸‰ç§é…ç½®æ–¹å¼å…¨éƒ¨ä½¿èƒ½ï¼Œä½†ä»ä¼šä»¥é™æ€ IP æ–¹å¼é…ç½®ç›¸æœº



```c++
GX_STATUS status = GX_STATUS_SUCCESS;
//ç¤º ä¾‹ MAC åœ° å€ ï¼Œ å® é™… ç›¸ æœº MAC åœ° å€ å¯ ç”¨ GXGetDeviceIPInfo è· å¾—
char szMAC[]= "00-21-49-00-00-00";
char szIpAddress[]= "192.168.10.10";
char szSubnetMask[]= "255.255.255.0";
char szDefaultGateway[] = "192.168.10.2";
char szUserID[]= "Daheng Imaging";
GX_IP_CONFIGURE_MODE emIpConfigureMode = IP_CONFIGURE_STATIC_IP;
//æœ¬ ä¾‹ ä»¥ æ°¸ ä¹… IP é… ç½® æ–¹ å¼ è¯´ æ˜ ,å…¶ ä»– IP é… ç½® æ–¹ å¼ ç±» ä¼¼
//è®¾ ç½® ä¸º æ°¸ ä¹… IP é… ç½® æ–¹ å¼
status = GXGigEIpConfiguration(szMAC, emIpConfigureMode,szIpAddress,szSubnetMask, szDefaultGateway, szUserID);
```

è°ƒç”¨æ­¤æ¥å£å‰ï¼Œå¿…é¡»å…ˆè¿›è¡Œæšä¸¾æ“ä½œï¼Œå¹¶ä¸”æ‰§è¡Œæ­¤æ“ä½œæ—¶ç›¸æœºä¸èƒ½æ˜¯æ‰“å¼€çŠ¶æ€ã€‚
â¢ å½“é€‰ç”¨ GX_IP_CONFIGURE_STATIC_IP å’Œ GX_IP_CONFIGURE_DEFAULT å‚æ•°é…ç½® IP æ—¶ï¼Œä¼ å…¥æ¥å£çš„ IP åœ°å€ã€å­ç½‘æ©ç ã€é»˜è®¤ç½‘å…³ç­‰å‚æ•°æŒ‡é’ˆä¸å…è®¸ä¸º NULLã€‚
â¢ å½“é€‰ç”¨ GX_IP_CONFIGURE_LLA å’Œ GX_IP_CONFIGURE_DHCP å‚æ•°é…ç½® IP æ—¶ï¼Œä¼ å…¥æ¥å£çš„ IPåœ°å€ã€å­ç½‘æ©ç ã€é»˜è®¤ç½‘å…³ç­‰å‚æ•°æŒ‡é’ˆå¯ä»¥ä¸º NULLã€‚
â¢ ç”¨æˆ·è‡ªå®šä¹‰åç§°ï¼ˆUserIDï¼‰å…è®¸çš„æœ€å¤§é•¿åº¦æ˜¯ 16 ä¸ªå­—ç¬¦ï¼›ä½¿ç”¨ä»»ä½•ä¸€ç§æ–¹å¼é…ç½®ç›¸æœº IPï¼Œä¼ å…¥æ¥å£çš„ç”¨æˆ·è‡ªå®šä¹‰åç§°ï¼ˆUserIDï¼‰å‚æ•°æŒ‡é’ˆå‡å¯ä»¥æ˜¯ NULLã€‚



## 

















